import hastSanitize from 'hast-util-sanitize';
import hastFromDom from 'hast-util-from-dom';
export const hastSanitizeSchema = {
    allowComments: false,
    allowDoctypes: false,
    ancestors: {
        li: ['ol', 'ul'],
    },
    attributes: {
        '*': [],
        a: ['href'],
    },
    tagNames: ['h3', 'p', 'br', 'strong', 'em', 'ul', 'ol', 'li', 'a'],
    strip: ['script'],
};
const htmlToAst = (html) => {
    const dom = new DOMParser().parseFromString(html, 'text/html');
    const domHast = hastSanitize(hastFromDom(dom.body), hastSanitizeSchema);
    const ast = {
        type: 'root',
        children: domHast.type === 'root' ? domHast.children : [domHast],
    };
    return ast;
};
export default htmlToAst;
//# sourceMappingURL=html-to-hast.js.map