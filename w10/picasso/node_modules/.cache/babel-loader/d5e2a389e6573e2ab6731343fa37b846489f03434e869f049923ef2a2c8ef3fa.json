{"ast":null,"code":"var equal = require('deep-equal');\nvar extend = require('extend');\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n    diff: function (a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b; // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key]; // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n}\n;\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp);\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return {\n        'delete': length\n      };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return {\n      retain: Infinity\n    };\n  }\n};\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\nmodule.exports = lib;","map":{"version":3,"names":["equal","require","extend","lib","attributes","compose","a","b","keepNull","Object","keys","reduce","copy","key","undefined","length","diff","concat","transform","priority","iterator","ops","Iterator","op","retain","insert","index","offset","prototype","hasNext","peekLength","Infinity","next","nextOp","opLength","retOp","substr","peek","peekType","rest","slice","module","exports"],"sources":["/home/marcucosmin3/bootcamp/w10/picasso/node_modules/quill-delta/lib/op.js"],"sourcesContent":["var equal = require('deep-equal');\nvar extend = require('extend');\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}