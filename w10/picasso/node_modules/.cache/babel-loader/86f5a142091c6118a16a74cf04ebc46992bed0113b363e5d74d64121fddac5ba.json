{"ast":null,"code":"import hastSanitize from 'hast-util-sanitize';\nimport hastFromDom from 'hast-util-from-dom';\nexport const hastSanitizeSchema = {\n  allowComments: false,\n  allowDoctypes: false,\n  ancestors: {\n    li: ['ol', 'ul']\n  },\n  attributes: {\n    '*': [],\n    a: ['href']\n  },\n  tagNames: ['h3', 'p', 'br', 'strong', 'em', 'ul', 'ol', 'li', 'a'],\n  strip: ['script']\n};\nconst htmlToAst = html => {\n  const dom = new DOMParser().parseFromString(html, 'text/html');\n  const domHast = hastSanitize(hastFromDom(dom.body), hastSanitizeSchema);\n  const ast = {\n    type: 'root',\n    children: domHast.type === 'root' ? domHast.children : [domHast]\n  };\n  return ast;\n};\nexport default htmlToAst;","map":{"version":3,"names":["hastSanitize","hastFromDom","hastSanitizeSchema","allowComments","allowDoctypes","ancestors","li","attributes","a","tagNames","strip","htmlToAst","html","dom","DOMParser","parseFromString","domHast","body","ast","type","children"],"sources":["../../src/utils/html-to-hast.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,YAAwB,MAAM,oBAAoB;AACzD,OAAOC,WAAW,MAAM,oBAAoB;AAI5C,OAAO,MAAMC,kBAAkB,GAAW;EACxCC,aAAa,EAAE,KAAK;EACpBC,aAAa,EAAE,KAAK;EACpBC,SAAS,EAAE;IACTC,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI;GAChB;EACDC,UAAU,EAAE;IACV,GAAG,EAAE,EAAE;IACPC,CAAC,EAAE,CAAC,MAAM;GACX;EACDC,QAAQ,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC;EAClEC,KAAK,EAAE,CAAC,QAAQ;CACjB;AAED,MAAMC,SAAS,GAAIC,IAAY,IAAI;EACjC,MAAMC,GAAG,GAAG,IAAIC,SAAS,EAAE,CAACC,eAAe,CAACH,IAAI,EAAE,WAAW,CAAC;EAC9D,MAAMI,OAAO,GAAGhB,YAAY,CAACC,WAAW,CAACY,GAAG,CAACI,IAAI,CAAC,EAAEf,kBAAkB,CAEtD;EAEhB,MAAMgB,GAAG,GAAY;IACnBC,IAAI,EAAE,MAAM;IACZC,QAAQ,EAAEJ,OAAO,CAACG,IAAI,KAAK,MAAM,GAAGH,OAAO,CAACI,QAAQ,GAAG,CAACJ,OAAO;GAChE;EAED,OAAOE,GAAG;AACZ,CAAC;AAED,eAAeP,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}