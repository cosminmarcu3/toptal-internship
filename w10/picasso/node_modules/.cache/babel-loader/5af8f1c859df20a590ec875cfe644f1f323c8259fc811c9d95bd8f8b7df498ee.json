{"ast":null,"code":"import { useCallback, useContext, useMemo, useState } from 'react';\nimport MenuContext from '../../MenuContext';\nconst useSlideMenu = () => {\n  const [items, setItems] = useState({});\n  const {\n    onItemUpdate,\n    onItemClick,\n    onBackClick\n  } = useContext(MenuContext);\n  const lastKey = useMemo(() => {\n    const keys = Object.keys(items);\n    return keys.length ? keys[keys.length - 1] : undefined;\n  }, [items]);\n  const lastMenu = useMemo(() => {\n    return lastKey && items[lastKey];\n  }, [items, lastKey]);\n  const handleItemUpdate = useCallback((key, menu) => {\n    if (menu && items[key]) {\n      setItems(Object.assign(Object.assign({}, items), {\n        [key]: menu\n      }));\n    }\n  }, [items]);\n  const handleItemClick = useCallback((key, menu) => {\n    if (menu) {\n      setItems(Object.assign(Object.assign({}, items), {\n        [key]: menu\n      }));\n    }\n  }, [items]);\n  const handleBackClick = useCallback(event => {\n    if (event) {\n      event.stopPropagation();\n    }\n    if (lastKey) {\n      const newItems = Object.assign({}, items);\n      delete newItems[lastKey];\n      setItems(newItems);\n    }\n  }, [items, lastKey]);\n  const context = useMemo(() => ({\n    variant: 'slide',\n    onItemUpdate: onItemUpdate !== null && onItemUpdate !== void 0 ? onItemUpdate : handleItemUpdate,\n    onItemClick: onItemClick !== null && onItemClick !== void 0 ? onItemClick : handleItemClick,\n    onBackClick: onBackClick !== null && onBackClick !== void 0 ? onBackClick : handleBackClick\n  }), [onItemUpdate, onItemClick, onBackClick, handleItemUpdate, handleItemClick, handleBackClick]);\n  return {\n    context,\n    innerMenu: lastMenu,\n    hasBackButton: Boolean(onBackClick)\n  };\n};\nexport default useSlideMenu;","map":{"version":3,"names":["useCallback","useContext","useMemo","useState","MenuContext","useSlideMenu","items","setItems","onItemUpdate","onItemClick","onBackClick","lastKey","keys","Object","length","undefined","lastMenu","handleItemUpdate","key","menu","assign","handleItemClick","handleBackClick","event","stopPropagation","newItems","context","variant","innerMenu","hasBackButton","Boolean"],"sources":["../../../../src/Menu/hooks/use-slide-menu/use-slide-menu.ts"],"sourcesContent":[null],"mappings":"AAAA,SAEEA,WAAW,EACXC,UAAU,EACVC,OAAO,EACPC,QAAQ,QACH,OAAO;AAEd,OAAOC,WAAiC,MAAM,mBAAmB;AAEjE,MAAMC,YAAY,GAAGA,CAAA,KAAK;EACxB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAA+B,EAAE,CAAC;EACpE,MAAM;IAAEK,YAAY;IAAEC,WAAW;IAAEC;EAAW,CAAE,GAAGT,UAAU,CAACG,WAAW,CAAC;EAE1E,MAAMO,OAAO,GAAGT,OAAO,CAAC,MAAK;IAC3B,MAAMU,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACN,KAAK,CAAC;IAE/B,OAAOM,IAAI,CAACE,MAAM,GAAGF,IAAI,CAACA,IAAI,CAACE,MAAM,GAAG,CAAC,CAAC,GAAGC,SAAS;EACxD,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EAEX,MAAMU,QAAQ,GAAGd,OAAO,CAAC,MAAK;IAC5B,OAAOS,OAAO,IAAIL,KAAK,CAACK,OAAO,CAAC;EAClC,CAAC,EAAE,CAACL,KAAK,EAAEK,OAAO,CAAC,CAAC;EAEpB,MAAMM,gBAAgB,GAAGjB,WAAW,CAClC,CAACkB,GAAW,EAAEC,IAAmB,KAAI;IACnC,IAAIA,IAAI,IAAIb,KAAK,CAACY,GAAG,CAAC,EAAE;MACtBX,QAAQ,CAAAM,MAAA,CAAAO,MAAA,CAAAP,MAAA,CAAAO,MAAA,KAAMd,KAAK;QAAE,CAACY,GAAG,GAAGC;MAAI,GAAG;;EAEvC,CAAC,EACD,CAACb,KAAK,CAAC,CACR;EAED,MAAMe,eAAe,GAAGrB,WAAW,CACjC,CAACkB,GAAW,EAAEC,IAAmB,KAAI;IACnC,IAAIA,IAAI,EAAE;MACRZ,QAAQ,CAAAM,MAAA,CAAAO,MAAA,CAAAP,MAAA,CAAAO,MAAA,KAAMd,KAAK;QAAE,CAACY,GAAG,GAAGC;MAAI,GAAG;;EAEvC,CAAC,EACD,CAACb,KAAK,CAAC,CACR;EAED,MAAMgB,eAAe,GAAGtB,WAAW,CAChCuB,KAAiD,IAAI;IACpD,IAAIA,KAAK,EAAE;MACTA,KAAK,CAACC,eAAe,EAAE;;IAGzB,IAAIb,OAAO,EAAE;MACX,MAAMc,QAAQ,GAAAZ,MAAA,CAAAO,MAAA,KAAQd,KAAK,CAAE;MAE7B,OAAOmB,QAAQ,CAACd,OAAO,CAAC;MACxBJ,QAAQ,CAACkB,QAAQ,CAAC;;EAEtB,CAAC,EACD,CAACnB,KAAK,EAAEK,OAAO,CAAC,CACjB;EAED,MAAMe,OAAO,GAAGxB,OAAO,CACrB,OAAyB;IACvByB,OAAO,EAAE,OAAO;IAChBnB,YAAY,EAAEA,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAIS,gBAAgB;IAC9CR,WAAW,EAAEA,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAIY,eAAe;IAC3CX,WAAW,EAAEA,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAIY;GAC7B,CAAC,EACF,CACEd,YAAY,EACZC,WAAW,EACXC,WAAW,EACXO,gBAAgB,EAChBI,eAAe,EACfC,eAAe,CAChB,CACF;EAED,OAAO;IACLI,OAAO;IACPE,SAAS,EAAEZ,QAAQ;IACnBa,aAAa,EAAEC,OAAO,CAACpB,WAAW;GACnC;AACH,CAAC;AAED,eAAeL,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}