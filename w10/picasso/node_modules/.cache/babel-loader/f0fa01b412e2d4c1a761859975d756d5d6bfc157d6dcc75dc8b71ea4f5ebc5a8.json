{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable complexity */\nimport React, { useRef } from 'react';\nimport cx from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport capitalize from '@material-ui/core/utils/capitalize';\nimport { Search16 } from '../Icon';\nimport OutlinedInput from '../OutlinedInput';\nimport Popper from '../Popper';\nimport MenuItem from '../MenuItem';\nimport SelectCaret from '../SelectCaret';\nimport NonNativeSelectLoader from '../NonNativeSelectLoader';\nimport { useAdornments, useSelectState, useSelectProps, renderOption as defaultRenderOption, getOptionText, DEFAULT_LIMIT, DEFAULT_SEARCH_THRESHOLD, countOptions, filterFlatOptions as defaultFilterOptions } from '../SelectBase';\nimport NonNativeSelectOptions from '../NonNativeSelectOptions';\nimport { documentable, forwardRef, noop, useCombinedRefs } from '../utils';\nimport styles from './styles';\nimport NonNativeSelectLimitFooter from '../NonNativeSelectLimitFooter';\nimport InputAdornment from '../InputAdornment';\nconst useStyles = makeStyles(styles);\nconst DEFAULT_EMPTY_ARRAY_VALUE = [];\nexport const NonNativeSelect = documentable(forwardRef(\n// eslint-disable-next-line max-lines-per-function\n(props, ref) => {\n  const {\n      className,\n      style,\n      width = 'full',\n      menuWidth,\n      loading,\n      id,\n      icon,\n      iconPosition = 'start',\n      name,\n      noOptionsText,\n      renderOption = defaultRenderOption,\n      placeholder,\n      disabled,\n      disablePortal,\n      error,\n      status,\n      multiple,\n      value = multiple ? DEFAULT_EMPTY_ARRAY_VALUE : '',\n      size,\n      enableReset,\n      popperContainer,\n      enableAutofill,\n      autoComplete,\n      searchPlaceholder,\n      searchThreshold = DEFAULT_SEARCH_THRESHOLD,\n      limit = DEFAULT_LIMIT,\n      getDisplayValue = getOptionText,\n      options,\n      onChange,\n      filterOptions = defaultFilterOptions,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      native,\n      testIds\n    } = props,\n    rest = __rest(props, [\"className\", \"style\", \"width\", \"menuWidth\", \"loading\", \"id\", \"icon\", \"iconPosition\", \"name\", \"noOptionsText\", \"renderOption\", \"placeholder\", \"disabled\", \"disablePortal\", \"error\", \"status\", \"multiple\", \"value\", \"size\", \"enableReset\", \"popperContainer\", \"enableAutofill\", \"autoComplete\", \"searchPlaceholder\", \"searchThreshold\", \"limit\", \"getDisplayValue\", \"options\", \"onChange\", \"filterOptions\", \"native\", \"testIds\"]);\n  const classes = useStyles();\n  const selectRef = useCombinedRefs(ref, useRef(null));\n  const searchInputRef = useRef(null);\n  const popperRef = useRef(null);\n  const inputWrapperRef = useRef(null);\n  const selectState = useSelectState({\n    getDisplayValue,\n    filterFlatOptions: filterOptions,\n    options,\n    disabled,\n    multiple,\n    value,\n    searchThreshold,\n    limit\n  });\n  const {\n    highlightedIndex,\n    isOpen,\n    showSearch,\n    filterOptionsValue,\n    displayValue,\n    selection,\n    filteredOptions\n  } = selectState;\n  const {\n    getItemProps,\n    getRootProps,\n    getInputProps,\n    getSearchInputProps\n  } = useSelectProps({\n    selectRef,\n    popperRef,\n    searchInputRef,\n    selectProps: props,\n    selectState\n  });\n  const searchInput = showSearch ? React.createElement(MenuItem, {\n    as: 'div',\n    nonSelectable: true,\n    disableGutters: true,\n    className: classes.searchInputGutters\n  }, React.createElement(OutlinedInput, Object.assign({\n    inputRef: searchInputRef,\n    className: classes.searchOutlinedInput,\n    startAdornment: React.createElement(InputAdornment, {\n      position: 'start',\n      disablePointerEvents: true\n    }, React.createElement(Search16, null)),\n    placeholder: searchPlaceholder,\n    size: size === 'large' ? 'medium' : size,\n    value: filterOptionsValue,\n    testIds: testIds,\n    \"aria-autocomplete\": 'list',\n    \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.searchInput\n  }, getSearchInputProps()))) : null;\n  const rootProps = getRootProps();\n  const [startAdornment, endAdornment] = useAdornments({\n    position: iconPosition,\n    icon,\n    disabled\n  });\n  const selectComponent = React.createElement(React.Fragment, null, React.createElement(\"div\", Object.assign({}, rootProps, {\n    className: classes.inputWrapper\n  }), !enableAutofill && name && React.createElement(\"input\", {\n    type: 'hidden',\n    value: displayValue,\n    name: name\n  }), React.createElement(OutlinedInput\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  , Object.assign({}, rest, {\n    onChange: onChange,\n    inputRef: selectRef,\n    status: error ? 'error' : status,\n    disabled: disabled,\n    id: id,\n    startAdornment: startAdornment,\n    endAdornment: endAdornment,\n    // Input specific props\n    value: displayValue\n  }, getInputProps(), {\n    placeholder: placeholder,\n    width: width,\n    readOnly: true,\n    defaultValue: undefined,\n    className: classes.outlinedInput,\n    inputProps: {\n      size: 1 // let input to have smallest width by default for width:'shrink'\n    },\n    size: size === 'large' ? 'medium' : size,\n    role: 'textbox',\n    enableReset: enableReset ? selection.isSelected() : false,\n    autoComplete: enableAutofill ? autoComplete : autoComplete || 'off',\n    name: enableAutofill ? name : undefined,\n    testIds: testIds\n  })), React.createElement(SelectCaret, {\n    disabled: disabled\n  })), !disabled && isOpen && React.createElement(Popper, {\n    ref: popperRef,\n    autoWidth: true,\n    width: menuWidth,\n    placement: 'bottom-start',\n    open: true,\n    anchorEl: inputWrapperRef.current,\n    container: popperContainer,\n    disablePortal: disablePortal\n  }, loading ? React.createElement(NonNativeSelectLoader, {\n    \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.loader\n  }) : React.createElement(NonNativeSelectOptions, {\n    options: filteredOptions,\n    renderOption: renderOption,\n    highlightedIndex: highlightedIndex,\n    getItemProps: getItemProps,\n    // eslint-disable-next-line react/jsx-handler-names\n    onBlur: rootProps.onBlur,\n    selection: selection,\n    filterOptionsValue: filterOptionsValue,\n    multiple: multiple,\n    noOptionsText: noOptionsText,\n    fixedHeader: searchInput,\n    fixedFooter: limit < countOptions(options) ? React.createElement(NonNativeSelectLimitFooter, {\n      totalCount: countOptions(options),\n      limit: limit,\n      \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.limitFooter\n    }) : null,\n    testIds: {\n      noOptions: testIds === null || testIds === void 0 ? void 0 : testIds.noOptions\n    }\n  })));\n  return React.createElement(\"div\", {\n    className: cx(classes.root, className, classes[`root${capitalize(width)}`], {\n      [classes.rootDisabled]: disabled\n    }),\n    style: style,\n    ref: inputWrapperRef\n  }, selectComponent);\n}));\nNonNativeSelect.defaultProps = {\n  disabled: false,\n  status: 'default',\n  getDisplayValue: getOptionText,\n  iconPosition: 'start',\n  loading: false,\n  noOptionsText: 'No matches found',\n  onChange: noop,\n  onBlur: noop,\n  renderOption: defaultRenderOption,\n  size: 'medium',\n  width: 'full',\n  searchThreshold: DEFAULT_SEARCH_THRESHOLD,\n  limit: DEFAULT_LIMIT,\n  enableAutofill: false,\n  searchPlaceholder: 'Search',\n  filterOptions: defaultFilterOptions\n};\nNonNativeSelect.displayName = 'NonNativeSelect';\nexport default NonNativeSelect;","map":{"version":3,"names":["React","useRef","cx","makeStyles","capitalize","Search16","OutlinedInput","Popper","MenuItem","SelectCaret","NonNativeSelectLoader","useAdornments","useSelectState","useSelectProps","renderOption","defaultRenderOption","getOptionText","DEFAULT_LIMIT","DEFAULT_SEARCH_THRESHOLD","countOptions","filterFlatOptions","defaultFilterOptions","NonNativeSelectOptions","documentable","forwardRef","noop","useCombinedRefs","styles","NonNativeSelectLimitFooter","InputAdornment","useStyles","DEFAULT_EMPTY_ARRAY_VALUE","NonNativeSelect","props","ref","className","style","width","menuWidth","loading","id","icon","iconPosition","name","noOptionsText","placeholder","disabled","disablePortal","error","status","multiple","value","size","enableReset","popperContainer","enableAutofill","autoComplete","searchPlaceholder","searchThreshold","limit","getDisplayValue","options","onChange","filterOptions","native","testIds","rest","__rest","classes","selectRef","searchInputRef","popperRef","inputWrapperRef","selectState","highlightedIndex","isOpen","showSearch","filterOptionsValue","displayValue","selection","filteredOptions","getItemProps","getRootProps","getInputProps","getSearchInputProps","selectProps","searchInput","createElement","as","nonSelectable","disableGutters","searchInputGutters","Object","assign","inputRef","searchOutlinedInput","startAdornment","position","disablePointerEvents","rootProps","endAdornment","selectComponent","Fragment","inputWrapper","type","readOnly","defaultValue","undefined","outlinedInput","inputProps","role","isSelected","autoWidth","placement","open","anchorEl","current","container","loader","onBlur","fixedHeader","fixedFooter","totalCount","limitFooter","noOptions","root","rootDisabled","defaultProps","displayName"],"sources":["../../src/NonNativeSelect/NonNativeSelect.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}