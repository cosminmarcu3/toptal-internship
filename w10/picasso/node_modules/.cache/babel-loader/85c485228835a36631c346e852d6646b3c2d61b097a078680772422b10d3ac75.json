{"ast":null,"code":"import React, { forwardRef, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FileList from '../FileList';\nimport Container from '../Container';\nimport Button from '../Button';\nimport FormHint from '../FormHint';\nimport { useCombinedRefs } from '../utils';\nimport styles from './styles';\nconst useStyles = makeStyles(styles, {\n  name: 'FileInputContent'\n});\nexport const FileInput = forwardRef(function FileInput(props, ref) {\n  const {\n    accept,\n    disabled,\n    value,\n    buttonLabel,\n    hint,\n    maxFiles = 1,\n    onChange,\n    onRemove,\n    onFocus,\n    onBlur\n  } = props;\n  const classes = useStyles();\n  const isUnlimitedFiles = maxFiles === null;\n  const preventAddingNewFiles = !isUnlimitedFiles && value && value.length === maxFiles;\n  // if `ref` is null then we need a ref to control the input\n  // so we create another ref manually if needed and merge both of them\n  const inputRef = useCombinedRefs(ref, useRef(null));\n  return React.createElement(Container, {\n    onFocus: onFocus,\n    onBlur: onBlur,\n    className: classes.root\n  }, React.createElement(Button, {\n    size: 'small',\n    variant: 'secondary',\n    disabled: Boolean(disabled || preventAddingNewFiles),\n    onClick: () => inputRef.current && inputRef.current.click()\n  }, buttonLabel), React.createElement(\"input\", {\n    type: 'file',\n    className: classes.nativeInput,\n    ref: inputRef,\n    accept: accept,\n    onChange: onChange,\n    multiple: isUnlimitedFiles\n  }), hint && React.createElement(FormHint, {\n    className: classes.hint\n  }, hint), value && value.length > 0 && React.createElement(Container, {\n    top: 'xsmall'\n  }, React.createElement(FileList, {\n    files: value,\n    disabled: disabled,\n    onItemRemove: onRemove\n  })));\n});\nFileInput.defaultProps = {\n  maxFiles: 1,\n  buttonLabel: 'Choose File'\n};\nFileInput.displayName = 'FileInput';\nexport default FileInput;","map":{"version":3,"names":["React","forwardRef","useRef","makeStyles","FileList","Container","Button","FormHint","useCombinedRefs","styles","useStyles","name","FileInput","props","ref","accept","disabled","value","buttonLabel","hint","maxFiles","onChange","onRemove","onFocus","onBlur","classes","isUnlimitedFiles","preventAddingNewFiles","length","inputRef","createElement","className","root","size","variant","Boolean","onClick","current","click","type","nativeInput","multiple","top","files","onItemRemove","defaultProps","displayName"],"sources":["../../src/FileInput/FileInput.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,MAAM,QAA2B,OAAO;AACpE,SAASC,UAAU,QAAe,0BAA0B;AAG5D,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,SAAS,MAAM,cAAc;AACpC,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,QAAQ,MAAM,aAAa;AAClC,SAASC,eAAe,QAAQ,UAAU;AAE1C,OAAOC,MAAM,MAAM,UAAU;AAyB7B,MAAMC,SAAS,GAAGP,UAAU,CAAQM,MAAM,EAAE;EAAEE,IAAI,EAAE;AAAkB,CAAE,CAAC;AAEzE,OAAO,MAAMC,SAAS,GAAGX,UAAU,CAA0B,SAASW,SAASA,CAC7EC,KAAK,EACLC,GAAG;EAEH,MAAM;IACJC,MAAM;IACNC,QAAQ;IACRC,KAAK;IACLC,WAAW;IACXC,IAAI;IACJC,QAAQ,GAAG,CAAC;IACZC,QAAQ;IACRC,QAAQ;IACRC,OAAO;IACPC;EAAM,CACP,GAAGX,KAAK;EAET,MAAMY,OAAO,GAAGf,SAAS,EAAE;EAC3B,MAAMgB,gBAAgB,GAAGN,QAAQ,KAAK,IAAI;EAC1C,MAAMO,qBAAqB,GACzB,CAACD,gBAAgB,IAAIT,KAAK,IAAIA,KAAK,CAACW,MAAM,KAAKR,QAAQ;EAEzD;EACA;EACA,MAAMS,QAAQ,GAAGrB,eAAe,CAC9BM,GAAG,EACHZ,MAAM,CAAmB,IAAI,CAAC,CAC/B;EAED,OACEF,KAAA,CAAA8B,aAAA,CAACzB,SAAS;IAACkB,OAAO,EAAEA,OAAO;IAAEC,MAAM,EAAEA,MAAM;IAAEO,SAAS,EAAEN,OAAO,CAACO;EAAI,GAClEhC,KAAA,CAAA8B,aAAA,CAACxB,MAAM;IACL2B,IAAI,EAAC,OAAO;IACZC,OAAO,EAAC,WAAW;IACnBlB,QAAQ,EAAEmB,OAAO,CAACnB,QAAQ,IAAIW,qBAAqB,CAAC;IACpDS,OAAO,EAAEA,CAAA,KAAMP,QAAQ,CAACQ,OAAO,IAAIR,QAAQ,CAACQ,OAAO,CAACC,KAAK;EAAE,GAE1DpB,WAAW,CACL,EAETlB,KAAA,CAAA8B,aAAA;IACES,IAAI,EAAC,MAAM;IACXR,SAAS,EAAEN,OAAO,CAACe,WAAW;IAC9B1B,GAAG,EAAEe,QAAQ;IACbd,MAAM,EAAEA,MAAM;IACdM,QAAQ,EAAEA,QAAQ;IAClBoB,QAAQ,EAAEf;EAAgB,EAC1B,EACDP,IAAI,IAAInB,KAAA,CAAA8B,aAAA,CAACvB,QAAQ;IAACwB,SAAS,EAAEN,OAAO,CAACN;EAAI,GAAGA,IAAI,CAAY,EAC5DF,KAAK,IAAIA,KAAK,CAACW,MAAM,GAAG,CAAC,IACxB5B,KAAA,CAAA8B,aAAA,CAACzB,SAAS;IAACqC,GAAG,EAAC;EAAQ,GACrB1C,KAAA,CAAA8B,aAAA,CAAC1B,QAAQ;IAACuC,KAAK,EAAE1B,KAAK;IAAED,QAAQ,EAAEA,QAAQ;IAAE4B,YAAY,EAAEtB;EAAQ,EAAI,CAEzE,CACS;AAEhB,CAAC,CAAC;AAEFV,SAAS,CAACiC,YAAY,GAAG;EACvBzB,QAAQ,EAAE,CAAC;EACXF,WAAW,EAAE;CACd;AAEDN,SAAS,CAACkC,WAAW,GAAG,WAAW;AAEnC,eAAelC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}