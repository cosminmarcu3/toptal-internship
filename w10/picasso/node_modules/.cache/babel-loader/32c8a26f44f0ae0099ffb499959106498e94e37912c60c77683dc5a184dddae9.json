{"ast":null,"code":"'use strict';\n\nvar xtend = require('xtend');\nvar defaults = require('./github.json');\nmodule.exports = wrapper;\nvar own = {}.hasOwnProperty;\nvar push = [].push;\nvar nodeSchema = {\n  root: {\n    children: all\n  },\n  doctype: handleDoctype,\n  comment: handleComment,\n  element: {\n    tagName: handleTagName,\n    properties: handleProperties,\n    children: all\n  },\n  text: {\n    value: handleValue\n  },\n  '*': {\n    data: allow,\n    position: allow\n  }\n};\n\n// Sanitize `node`, according to `schema`.\nfunction wrapper(node, schema) {\n  var ctx = {\n    type: 'root',\n    children: []\n  };\n  var replace;\n  if (node && typeof node === 'object' && node.type) {\n    replace = one(xtend(defaults, schema || {}), node, []);\n    if (replace) {\n      if ('length' in replace) {\n        if (replace.length === 1) {\n          ctx = replace[0];\n        } else {\n          ctx.children = replace;\n        }\n      } else {\n        ctx = replace;\n      }\n    }\n  }\n  return ctx;\n}\n\n// Sanitize `node`.\nfunction one(schema, node, stack) {\n  var type = node && node.type;\n  var replacement = {\n    type: node.type\n  };\n  var replace;\n  var definition;\n  var allowed;\n  var result;\n  var key;\n  if (own.call(nodeSchema, type)) {\n    definition = nodeSchema[type];\n    if (typeof definition === 'function') {\n      definition = definition(schema, node);\n    }\n    if (definition) {\n      replace = true;\n      allowed = xtend(definition, nodeSchema['*']);\n      for (key in allowed) {\n        result = allowed[key](schema, node[key], node, stack);\n        if (result === false) {\n          replace = null;\n          // Set the non-safe value.\n          replacement[key] = node[key];\n        } else if (result != null) {\n          replacement[key] = result;\n        }\n      }\n    }\n  }\n  if (replace) {\n    return replacement;\n  }\n  return replacement.children && replacement.children.length && schema.strip.indexOf(replacement.tagName) < 0 ? replacement.children : null;\n}\n\n// Sanitize `children`.\nfunction all(schema, children, node, stack) {\n  var results = [];\n  var index = -1;\n  var value;\n  if (children) {\n    stack.push(node.tagName);\n    while (++index < children.length) {\n      value = one(schema, children[index], stack);\n      if (value) {\n        if ('length' in value) {\n          push.apply(results, value);\n        } else {\n          results.push(value);\n        }\n      }\n    }\n    stack.pop();\n  }\n  return results;\n}\n\n// Sanitize `properties`.\nfunction handleProperties(schema, properties, node, stack) {\n  var name = handleTagName(schema, node.tagName, node, stack);\n  var reqs = schema.required || /* istanbul ignore next */{};\n  var props = properties || {};\n  var allowed = xtend(toPropertyValueMap(schema.attributes['*']), toPropertyValueMap(own.call(schema.attributes, name) ? schema.attributes[name] : []));\n  var result = {};\n  var definition;\n  var key;\n  var value;\n  for (key in props) {\n    if (own.call(allowed, key)) {\n      definition = allowed[key];\n    } else if (data(key) && own.call(allowed, 'data*')) {\n      definition = allowed['data*'];\n    } else {\n      continue;\n    }\n    value = props[key];\n    value = value && typeof value === 'object' && 'length' in value ? handlePropertyValues(schema, value, key, definition) : handlePropertyValue(schema, value, key, definition);\n    if (value != null) {\n      result[key] = value;\n    }\n  }\n  if (own.call(reqs, name)) {\n    for (key in reqs[name]) {\n      if (!own.call(result, key)) {\n        result[key] = reqs[name][key];\n      }\n    }\n  }\n  return result;\n}\n\n// Sanitize a property value which is a list.\nfunction handlePropertyValues(schema, values, prop, definition) {\n  var result = [];\n  var index = -1;\n  var value;\n  while (++index < values.length) {\n    value = handlePropertyValue(schema, values[index], prop, definition);\n    if (value != null) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n// Sanitize a property value.\nfunction handlePropertyValue(schema, value, prop, definition) {\n  if ((typeof value === 'boolean' || typeof value === 'number' || typeof value === 'string') && handleProtocol(schema, value, prop) && (!definition.length || definition.indexOf(value) > -1)) {\n    return schema.clobber.indexOf(prop) < 0 ? value : schema.clobberPrefix + value;\n  }\n}\n\n// Check whether `value` is a safe URL.\nfunction handleProtocol(schema, value, prop) {\n  var url = String(value);\n  var colon = url.indexOf(':');\n  var questionMark = url.indexOf('?');\n  var numberSign = url.indexOf('#');\n  var slash = url.indexOf('/');\n  var protocols = own.call(schema.protocols, prop) ? schema.protocols[prop].concat() : [];\n  var index = -1;\n  if (!protocols.length || colon < 0 ||\n  // If the first colon is after a `?`, `#`, or `/`, it’s not a protocol.\n  slash > -1 && colon > slash || questionMark > -1 && colon > questionMark || numberSign > -1 && colon > numberSign) {\n    return true;\n  }\n  while (++index < protocols.length) {\n    if (colon === protocols[index].length && url.slice(0, protocols[index].length) === protocols[index]) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Always return a valid HTML5 doctype.\nfunction handleDoctypeName() {\n  return 'html';\n}\n\n// Sanitize `tagName`.\nfunction handleTagName(schema, tagName, node, stack) {\n  var name = typeof tagName === 'string' && tagName;\n  var index = -1;\n  if (!name || name === '*' || schema.tagNames.indexOf(name) < 0) {\n    return false;\n  }\n\n  // Some nodes can break out of their context if they don’t have a certain\n  // ancestor.\n  if (own.call(schema.ancestors, name)) {\n    while (++index < schema.ancestors[name].length) {\n      if (stack.indexOf(schema.ancestors[name][index]) > -1) {\n        return name;\n      }\n    }\n    return false;\n  }\n  return name;\n}\nfunction handleDoctype(schema) {\n  return schema.allowDoctypes ? {\n    name: handleDoctypeName\n  } : null;\n}\nfunction handleComment(schema) {\n  return schema.allowComments ? {\n    value: handleCommentValue\n  } : null;\n}\n\n// See <https://html.spec.whatwg.org/multipage/parsing.html#serialising-html-fragments>\nfunction handleCommentValue(schema, value) {\n  var result = typeof value === 'string' ? value : '';\n  var index = result.indexOf('-->');\n  return index < 0 ? result : result.slice(0, index);\n}\n\n// Sanitize `value`.\nfunction handleValue(schema, value) {\n  return typeof value === 'string' ? value : '';\n}\n\n// Create a map from a list of props or a list of properties and values.\nfunction toPropertyValueMap(values) {\n  var result = {};\n  var index = -1;\n  var value;\n  while (++index < values.length) {\n    value = values[index];\n    if (value && typeof value === 'object' && 'length' in value) {\n      result[value[0]] = value.slice(1);\n    } else {\n      result[value] = [];\n    }\n  }\n  return result;\n}\n\n// Allow `value`.\nfunction allow(schema, value) {\n  return value;\n}\n\n// Check if `prop` is a data property.\nfunction data(prop) {\n  return prop.length > 4 && prop.slice(0, 4).toLowerCase() === 'data';\n}","map":{"version":3,"names":["xtend","require","defaults","module","exports","wrapper","own","hasOwnProperty","push","nodeSchema","root","children","all","doctype","handleDoctype","comment","handleComment","element","tagName","handleTagName","properties","handleProperties","text","value","handleValue","data","allow","position","node","schema","ctx","type","replace","one","length","stack","replacement","definition","allowed","result","key","call","strip","indexOf","results","index","apply","pop","name","reqs","required","props","toPropertyValueMap","attributes","handlePropertyValues","handlePropertyValue","values","prop","handleProtocol","clobber","clobberPrefix","url","String","colon","questionMark","numberSign","slash","protocols","concat","slice","handleDoctypeName","tagNames","ancestors","allowDoctypes","allowComments","handleCommentValue","toLowerCase"],"sources":["/home/marcucosmin3/bootcamp/w10/picasso/node_modules/hast-util-sanitize/lib/index.js"],"sourcesContent":["'use strict'\n\nvar xtend = require('xtend')\nvar defaults = require('./github.json')\n\nmodule.exports = wrapper\n\nvar own = {}.hasOwnProperty\nvar push = [].push\n\nvar nodeSchema = {\n  root: {children: all},\n  doctype: handleDoctype,\n  comment: handleComment,\n  element: {\n    tagName: handleTagName,\n    properties: handleProperties,\n    children: all\n  },\n  text: {value: handleValue},\n  '*': {data: allow, position: allow}\n}\n\n// Sanitize `node`, according to `schema`.\nfunction wrapper(node, schema) {\n  var ctx = {type: 'root', children: []}\n  var replace\n\n  if (node && typeof node === 'object' && node.type) {\n    replace = one(xtend(defaults, schema || {}), node, [])\n\n    if (replace) {\n      if ('length' in replace) {\n        if (replace.length === 1) {\n          ctx = replace[0]\n        } else {\n          ctx.children = replace\n        }\n      } else {\n        ctx = replace\n      }\n    }\n  }\n\n  return ctx\n}\n\n// Sanitize `node`.\nfunction one(schema, node, stack) {\n  var type = node && node.type\n  var replacement = {type: node.type}\n  var replace\n  var definition\n  var allowed\n  var result\n  var key\n\n  if (own.call(nodeSchema, type)) {\n    definition = nodeSchema[type]\n\n    if (typeof definition === 'function') {\n      definition = definition(schema, node)\n    }\n\n    if (definition) {\n      replace = true\n      allowed = xtend(definition, nodeSchema['*'])\n\n      for (key in allowed) {\n        result = allowed[key](schema, node[key], node, stack)\n\n        if (result === false) {\n          replace = null\n          // Set the non-safe value.\n          replacement[key] = node[key]\n        } else if (result != null) {\n          replacement[key] = result\n        }\n      }\n    }\n  }\n\n  if (replace) {\n    return replacement\n  }\n\n  return replacement.children &&\n    replacement.children.length &&\n    schema.strip.indexOf(replacement.tagName) < 0\n    ? replacement.children\n    : null\n}\n\n// Sanitize `children`.\nfunction all(schema, children, node, stack) {\n  var results = []\n  var index = -1\n  var value\n\n  if (children) {\n    stack.push(node.tagName)\n\n    while (++index < children.length) {\n      value = one(schema, children[index], stack)\n\n      if (value) {\n        if ('length' in value) {\n          push.apply(results, value)\n        } else {\n          results.push(value)\n        }\n      }\n    }\n\n    stack.pop()\n  }\n\n  return results\n}\n\n// Sanitize `properties`.\nfunction handleProperties(schema, properties, node, stack) {\n  var name = handleTagName(schema, node.tagName, node, stack)\n  var reqs = schema.required || /* istanbul ignore next */ {}\n  var props = properties || {}\n  var allowed = xtend(\n    toPropertyValueMap(schema.attributes['*']),\n    toPropertyValueMap(\n      own.call(schema.attributes, name) ? schema.attributes[name] : []\n    )\n  )\n  var result = {}\n  var definition\n  var key\n  var value\n\n  for (key in props) {\n    if (own.call(allowed, key)) {\n      definition = allowed[key]\n    } else if (data(key) && own.call(allowed, 'data*')) {\n      definition = allowed['data*']\n    } else {\n      continue\n    }\n\n    value = props[key]\n    value =\n      value && typeof value === 'object' && 'length' in value\n        ? handlePropertyValues(schema, value, key, definition)\n        : handlePropertyValue(schema, value, key, definition)\n\n    if (value != null) {\n      result[key] = value\n    }\n  }\n\n  if (own.call(reqs, name)) {\n    for (key in reqs[name]) {\n      if (!own.call(result, key)) {\n        result[key] = reqs[name][key]\n      }\n    }\n  }\n\n  return result\n}\n\n// Sanitize a property value which is a list.\nfunction handlePropertyValues(schema, values, prop, definition) {\n  var result = []\n  var index = -1\n  var value\n\n  while (++index < values.length) {\n    value = handlePropertyValue(schema, values[index], prop, definition)\n\n    if (value != null) {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n// Sanitize a property value.\nfunction handlePropertyValue(schema, value, prop, definition) {\n  if (\n    (typeof value === 'boolean' ||\n      typeof value === 'number' ||\n      typeof value === 'string') &&\n    handleProtocol(schema, value, prop) &&\n    (!definition.length || definition.indexOf(value) > -1)\n  ) {\n    return schema.clobber.indexOf(prop) < 0\n      ? value\n      : schema.clobberPrefix + value\n  }\n}\n\n// Check whether `value` is a safe URL.\nfunction handleProtocol(schema, value, prop) {\n  var url = String(value)\n  var colon = url.indexOf(':')\n  var questionMark = url.indexOf('?')\n  var numberSign = url.indexOf('#')\n  var slash = url.indexOf('/')\n  var protocols = own.call(schema.protocols, prop)\n    ? schema.protocols[prop].concat()\n    : []\n  var index = -1\n\n  if (\n    !protocols.length ||\n    colon < 0 ||\n    // If the first colon is after a `?`, `#`, or `/`, it’s not a protocol.\n    (slash > -1 && colon > slash) ||\n    (questionMark > -1 && colon > questionMark) ||\n    (numberSign > -1 && colon > numberSign)\n  ) {\n    return true\n  }\n\n  while (++index < protocols.length) {\n    if (\n      colon === protocols[index].length &&\n      url.slice(0, protocols[index].length) === protocols[index]\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n\n// Always return a valid HTML5 doctype.\nfunction handleDoctypeName() {\n  return 'html'\n}\n\n// Sanitize `tagName`.\nfunction handleTagName(schema, tagName, node, stack) {\n  var name = typeof tagName === 'string' && tagName\n  var index = -1\n\n  if (!name || name === '*' || schema.tagNames.indexOf(name) < 0) {\n    return false\n  }\n\n  // Some nodes can break out of their context if they don’t have a certain\n  // ancestor.\n  if (own.call(schema.ancestors, name)) {\n    while (++index < schema.ancestors[name].length) {\n      if (stack.indexOf(schema.ancestors[name][index]) > -1) {\n        return name\n      }\n    }\n\n    return false\n  }\n\n  return name\n}\n\nfunction handleDoctype(schema) {\n  return schema.allowDoctypes ? {name: handleDoctypeName} : null\n}\n\nfunction handleComment(schema) {\n  return schema.allowComments ? {value: handleCommentValue} : null\n}\n\n// See <https://html.spec.whatwg.org/multipage/parsing.html#serialising-html-fragments>\nfunction handleCommentValue(schema, value) {\n  var result = typeof value === 'string' ? value : ''\n  var index = result.indexOf('-->')\n\n  return index < 0 ? result : result.slice(0, index)\n}\n\n// Sanitize `value`.\nfunction handleValue(schema, value) {\n  return typeof value === 'string' ? value : ''\n}\n\n// Create a map from a list of props or a list of properties and values.\nfunction toPropertyValueMap(values) {\n  var result = {}\n  var index = -1\n  var value\n\n  while (++index < values.length) {\n    value = values[index]\n\n    if (value && typeof value === 'object' && 'length' in value) {\n      result[value[0]] = value.slice(1)\n    } else {\n      result[value] = []\n    }\n  }\n\n  return result\n}\n\n// Allow `value`.\nfunction allow(schema, value) {\n  return value\n}\n\n// Check if `prop` is a data property.\nfunction data(prop) {\n  return prop.length > 4 && prop.slice(0, 4).toLowerCase() === 'data'\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}