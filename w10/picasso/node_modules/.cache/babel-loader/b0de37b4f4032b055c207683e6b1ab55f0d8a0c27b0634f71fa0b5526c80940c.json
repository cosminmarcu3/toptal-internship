{"ast":null,"code":"import { isBrowser } from '@toptal/picasso-shared';\nimport { useEffect, useMemo } from 'react';\nconst layers = new Set();\nlet scrollLock = undefined;\nexport const useBodyScrollLock = isLocked => {\n  const layerId = useMemo(generateLayerId, []);\n  useEffect(() => {\n    if (isLocked) {\n      layers.add(layerId);\n      syncBodyScrollLock();\n    }\n    return () => {\n      layers.delete(layerId);\n      syncBodyScrollLock();\n    };\n  }, [layerId, isLocked]);\n};\nconst generateLayerId = (() => {\n  let count = 0;\n  return () => {\n    count = count + 1;\n    return count;\n  };\n})();\nconst syncBodyScrollLock = () => {\n  if (layers.size > 0) {\n    addBodyScrollLock();\n  } else {\n    removeBodyScrollLock();\n  }\n};\nconst addBodyScrollLock = () => {\n  if (!isBrowser()) {\n    return;\n  }\n  if (!scrollLock) {\n    scrollLock = {\n      prevBodyOverflow: document.body.style.overflow\n    };\n    document.body.style.overflow = 'hidden';\n  }\n};\nconst removeBodyScrollLock = () => {\n  if (!isBrowser()) {\n    return;\n  }\n  if (scrollLock) {\n    document.body.style.overflow = scrollLock.prevBodyOverflow;\n    scrollLock = undefined;\n  }\n};","map":{"version":3,"names":["isBrowser","useEffect","useMemo","layers","Set","scrollLock","undefined","useBodyScrollLock","isLocked","layerId","generateLayerId","add","syncBodyScrollLock","delete","count","size","addBodyScrollLock","removeBodyScrollLock","prevBodyOverflow","document","body","style","overflow"],"sources":["../../src/utils/use-body-scroll-lock.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,SAAS,QAAQ,wBAAwB;AAClD,SAASC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAE1C,MAAMC,MAAM,GAAG,IAAIC,GAAG,EAAU;AAChC,IAAIC,UAAU,GAA6CC,SAAS;AAEpE,OAAO,MAAMC,iBAAiB,GAAIC,QAAiB,IAAI;EACrD,MAAMC,OAAO,GAAGP,OAAO,CAACQ,eAAe,EAAE,EAAE,CAAC;EAE5CT,SAAS,CAAC,MAAK;IACb,IAAIO,QAAQ,EAAE;MACZL,MAAM,CAACQ,GAAG,CAACF,OAAO,CAAC;MACnBG,kBAAkB,EAAE;;IAGtB,OAAO,MAAK;MACVT,MAAM,CAACU,MAAM,CAACJ,OAAO,CAAC;MACtBG,kBAAkB,EAAE;IACtB,CAAC;EACH,CAAC,EAAE,CAACH,OAAO,EAAED,QAAQ,CAAC,CAAC;AACzB,CAAC;AAED,MAAME,eAAe,GAAG,CAAC,MAAK;EAC5B,IAAII,KAAK,GAAG,CAAC;EAEb,OAAO,MAAK;IACVA,KAAK,GAAGA,KAAK,GAAG,CAAC;IAEjB,OAAOA,KAAK;EACd,CAAC;AACH,CAAC,GAAG;AAEJ,MAAMF,kBAAkB,GAAGA,CAAA,KAAK;EAC9B,IAAIT,MAAM,CAACY,IAAI,GAAG,CAAC,EAAE;IACnBC,iBAAiB,EAAE;GACpB,MAAM;IACLC,oBAAoB,EAAE;;AAE1B,CAAC;AAED,MAAMD,iBAAiB,GAAGA,CAAA,KAAK;EAC7B,IAAI,CAAChB,SAAS,EAAE,EAAE;IAChB;;EAGF,IAAI,CAACK,UAAU,EAAE;IACfA,UAAU,GAAG;MACXa,gBAAgB,EAAEC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC;KACvC;IACDH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;;AAE3C,CAAC;AAED,MAAML,oBAAoB,GAAGA,CAAA,KAAK;EAChC,IAAI,CAACjB,SAAS,EAAE,EAAE;IAChB;;EAGF,IAAIK,UAAU,EAAE;IACdc,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAGjB,UAAU,CAACa,gBAAgB;IAC1Db,UAAU,GAAGC,SAAS;;AAE1B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}