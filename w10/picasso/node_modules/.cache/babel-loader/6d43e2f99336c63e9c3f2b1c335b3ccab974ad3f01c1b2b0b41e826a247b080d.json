{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport cx from 'classnames';\nimport React, { useCallback, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport styles from './styles';\nimport Tooltip from '../Tooltip';\nimport Typography from '../Typography';\nimport { isOverflown } from '../utils';\nconst useStyles = makeStyles(styles, {\n  name: 'TypographyOverflow'\n});\nexport const TypographyOverflow = props => {\n  const {\n      children,\n      lines = 1,\n      tooltipContent,\n      tooltipDelay,\n      disableTooltip,\n      className,\n      onClick,\n      onMouseEnter,\n      style\n    } = props,\n    rest = __rest(props, [\"children\", \"lines\", \"tooltipContent\", \"tooltipDelay\", \"disableTooltip\", \"className\", \"onClick\", \"onMouseEnter\", \"style\"]);\n  const classes = useStyles(props);\n  const [isTooltipActive, setIsTooltipActive] = useState(false);\n  const [isTooltipOpened, setIsTooltipOpened] = useState(false);\n  const [isTooltipAnimating, setIsTooltipAnimating] = useState(false);\n  const isTooltipRendered = isTooltipActive || isTooltipAnimating;\n  const isMultiline = lines > 1;\n  // We are paying a very high price when using dynamic JSS rules\n  // for a component that is used on a very large scale.\n  // It was causing a major UI freezes and unnecessary style recalculations,\n  // that's why we decided to go with inline styles:\n  // https://github.com/toptal/picasso/pull/2110\n  const extendedStyle = isMultiline ? Object.assign(Object.assign({}, style), {\n    WebkitLineClamp: lines\n  }) : style;\n  const handleClick = useCallback(event => {\n    if (!isTooltipOpened && !disableTooltip && isOverflown(event.currentTarget)) {\n      setIsTooltipOpened(true);\n      setIsTooltipActive(true);\n    }\n    if (onClick) {\n      onClick(event);\n    }\n  }, [isTooltipOpened, disableTooltip, onClick]);\n  const handleMouseEnter = useCallback(event => {\n    if (isOverflown(event.currentTarget)) {\n      setIsTooltipActive(true);\n      setIsTooltipAnimating(true);\n    }\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n  }, [onMouseEnter]);\n  const handleTooltipOpen = useCallback(() => {\n    setIsTooltipOpened(true);\n  }, []);\n  const handleTooltipClose = useCallback(() => {\n    setIsTooltipActive(false);\n    setIsTooltipOpened(false);\n  }, []);\n  const handleTransitionExiting = useCallback(() => {\n    setIsTooltipAnimating(true);\n  }, []);\n  const handleTransitionExited = useCallback(() => {\n    setIsTooltipAnimating(false);\n  }, []);\n  const typography = React.createElement(Typography, Object.assign({}, rest, {\n    style: extendedStyle,\n    className: cx(classes.wrapper, isMultiline ? classes.multiLine : classes.singleLine, className),\n    onClick: handleClick,\n    onMouseEnter: handleMouseEnter\n  }), children);\n  const tooltip = React.createElement(Tooltip, {\n    open: isTooltipOpened,\n    content: tooltipContent !== null && tooltipContent !== void 0 ? tooltipContent : children,\n    placement: 'top',\n    delay: tooltipDelay,\n    interactive: true,\n    disableListeners: disableTooltip,\n    onOpen: handleTooltipOpen,\n    onClose: handleTooltipClose,\n    onTransitionExiting: handleTransitionExiting,\n    onTransitionExited: handleTransitionExited\n  }, typography);\n  return isTooltipRendered ? tooltip : typography;\n};\nTypographyOverflow.displayName = 'TypographyOverflow';\nTypographyOverflow.defaultProps = {\n  noWrap: true\n};\nexport default TypographyOverflow;","map":{"version":3,"names":["cx","React","useCallback","useState","makeStyles","styles","Tooltip","Typography","isOverflown","useStyles","name","TypographyOverflow","props","children","lines","tooltipContent","tooltipDelay","disableTooltip","className","onClick","onMouseEnter","style","rest","__rest","classes","isTooltipActive","setIsTooltipActive","isTooltipOpened","setIsTooltipOpened","isTooltipAnimating","setIsTooltipAnimating","isTooltipRendered","isMultiline","extendedStyle","Object","assign","WebkitLineClamp","handleClick","event","currentTarget","handleMouseEnter","handleTooltipOpen","handleTooltipClose","handleTransitionExiting","handleTransitionExited","typography","createElement","wrapper","multiLine","singleLine","tooltip","open","content","placement","delay","interactive","disableListeners","onOpen","onClose","onTransitionExiting","onTransitionExited","displayName","defaultProps","noWrap"],"sources":["../../src/TypographyOverflow/TypographyOverflow.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}