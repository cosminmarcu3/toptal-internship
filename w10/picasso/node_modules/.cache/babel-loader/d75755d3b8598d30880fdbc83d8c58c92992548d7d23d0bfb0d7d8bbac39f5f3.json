{"ast":null,"code":"import React, { useRef } from 'react';\nimport Tooltip from '../Tooltip';\nimport { useSliderContext } from '../Slider/SliderContext';\nconst SliderValueLabel = _ref => {\n  let {\n    tooltip,\n    disablePortal,\n    compact,\n    children,\n    open,\n    value,\n    valueLabelDisplay,\n    index\n  } = _ref;\n  const thumbRef = useRef(null);\n  const {\n    registerValueLabel,\n    hasTooltipOverlow\n  } = useSliderContext();\n  const isTooltipAlwaysVisible = tooltip === 'on';\n  if (valueLabelDisplay === 'off') {\n    return children;\n  }\n  const getPlacement = () => {\n    if (hasTooltipOverlow) {\n      return index === 0 ? 'top-end' : 'top-start';\n    }\n    return 'top';\n  };\n  const handleTooltipRef = tooltipElement => {\n    // At this moment, both thumb and tooltip refs are set so we can register them in the context\n    const thumbElement = thumbRef.current;\n    if (tooltipElement && thumbElement) {\n      registerValueLabel(index, tooltipElement, thumbElement);\n    }\n  };\n  return React.createElement(Tooltip, {\n    ref: thumbRef,\n    tooltipRef: handleTooltipRef,\n    content: value,\n    open: open || valueLabelDisplay === 'on',\n    placement: getPlacement(),\n    preventOverflow: isTooltipAlwaysVisible,\n    disablePortal: disablePortal,\n    compact: compact\n  }, children);\n};\nexport default SliderValueLabel;","map":{"version":3,"names":["React","useRef","Tooltip","useSliderContext","SliderValueLabel","_ref","tooltip","disablePortal","compact","children","open","value","valueLabelDisplay","index","thumbRef","registerValueLabel","hasTooltipOverlow","isTooltipAlwaysVisible","getPlacement","handleTooltipRef","tooltipElement","thumbElement","current","createElement","ref","tooltipRef","content","placement","preventOverflow"],"sources":["../../src/SliderValueLabel/SliderValueLabel.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AAGrC,OAAOC,OAAO,MAAM,YAAY;AAChC,SAASC,gBAAgB,QAAQ,yBAAyB;AAkB1D,MAAMC,gBAAgB,GAAGC,IAAA,IASb;EAAA,IATc;IACxBC,OAAO;IACPC,aAAa;IACbC,OAAO;IACPC,QAAQ;IACRC,IAAI;IACJC,KAAK;IACLC,iBAAiB;IACjBC;EAAK,CACC,GAAAR,IAAA;EACN,MAAMS,QAAQ,GAAGb,MAAM,CAAiB,IAAI,CAAC;EAC7C,MAAM;IAAEc,kBAAkB;IAAEC;EAAiB,CAAE,GAAGb,gBAAgB,EAAE;EACpE,MAAMc,sBAAsB,GAAGX,OAAO,KAAK,IAAI;EAE/C,IAAIM,iBAAiB,KAAK,KAAK,EAAE;IAC/B,OAAOH,QAAQ;;EAGjB,MAAMS,YAAY,GAAGA,CAAA,KAAK;IACxB,IAAIF,iBAAiB,EAAE;MACrB,OAAOH,KAAK,KAAK,CAAC,GAAG,SAAS,GAAG,WAAW;;IAG9C,OAAO,KAAK;EACd,CAAC;EAED,MAAMM,gBAAgB,GAAIC,cAA8B,IAAI;IAC1D;IACA,MAAMC,YAAY,GAAGP,QAAQ,CAACQ,OAAO;IAErC,IAAIF,cAAc,IAAIC,YAAY,EAAE;MAClCN,kBAAkB,CAACF,KAAK,EAAEO,cAAc,EAAEC,YAAY,CAAC;;EAE3D,CAAC;EAED,OACErB,KAAA,CAAAuB,aAAA,CAACrB,OAAO;IACNsB,GAAG,EAAEV,QAAQ;IACbW,UAAU,EAAEN,gBAAgB;IAC5BO,OAAO,EAAEf,KAAK;IACdD,IAAI,EAAEA,IAAI,IAAIE,iBAAiB,KAAK,IAAI;IACxCe,SAAS,EAAET,YAAY,EAAE;IACzBU,eAAe,EAAEX,sBAAsB;IACvCV,aAAa,EAAEA,aAAa;IAC5BC,OAAO,EAAEA;EAAO,GAEfC,QAAQ,CACD;AAEd,CAAC;AAED,eAAeL,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}