{"ast":null,"code":"'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar reactDom = require('react-dom');\nvar PropTypes = _interopDefault(require('prop-types'));\nvar invariant = _interopDefault(require('invariant'));\nvar warning = _interopDefault(require('warning'));\nfunction _defaults2(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _defaults2(subClass, superClass);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction defer(fn) {\n  return requestAnimationFrame(fn);\n}\nfunction cancelDefer(deferId) {\n  cancelAnimationFrame(deferId);\n}\nfunction setInputSelection(input, start, end) {\n  if (end === undefined) {\n    end = start;\n  }\n  input.setSelectionRange(start, end);\n}\nfunction getInputSelection(input) {\n  var start = input.selectionStart;\n  var end = input.selectionEnd;\n  return {\n    start: start,\n    end: end,\n    length: end - start\n  };\n}\nfunction isInputFocused(input) {\n  var inputDocument = input.ownerDocument;\n  return inputDocument.hasFocus() && inputDocument.activeElement === input;\n}\n\n// Element's window may differ from the one within React instance\n// if element rendered within iframe.\n// See https://github.com/sanniassin/react-input-mask/issues/182\nfunction getElementDocument(element) {\n  return element == null ? void 0 : element.ownerDocument;\n}\nfunction getElementWindow(element) {\n  var _getElementDocument;\n  return (_getElementDocument = getElementDocument(element)) == null ? void 0 : _getElementDocument.defaultView;\n}\nfunction isDOMElement(element) {\n  var elementWindow = getElementWindow(element);\n  return !!elementWindow && element instanceof elementWindow.HTMLElement;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction findLastIndex(array, predicate) {\n  for (var i = array.length - 1; i >= 0; i--) {\n    var x = array[i];\n    if (predicate(x, i)) {\n      return i;\n    }\n  }\n  return -1;\n}\nfunction repeat(string, n) {\n  if (n === void 0) {\n    n = 1;\n  }\n  var result = \"\";\n  for (var i = 0; i < n; i++) {\n    result += string;\n  }\n  return result;\n}\nfunction toString(value) {\n  return \"\" + value;\n}\nfunction useInputElement(inputRef) {\n  return React.useCallback(function () {\n    var input = inputRef.current;\n    var isDOMNode = typeof window !== \"undefined\" && isDOMElement(input); // workaround for react-test-renderer\n    // https://github.com/sanniassin/react-input-mask/issues/147\n\n    if (!input || !isDOMNode) {\n      return null;\n    }\n    if (input.nodeName !== \"INPUT\") {\n      input = input.querySelector(\"input\");\n    }\n    if (!input) {\n      throw new Error(\"react-input-mask: inputComponent doesn't contain input node\");\n    }\n    return input;\n  }, [inputRef]);\n}\nfunction useDeferLoop(callback) {\n  var deferIdRef = React.useRef(null);\n  var runLoop = React.useCallback(function () {\n    // If there are simulated focus events, runLoop could be\n    // called multiple times without blur or re-render\n    if (deferIdRef.current !== null) {\n      return;\n    }\n    function loop() {\n      callback();\n      deferIdRef.current = defer(loop);\n    }\n    loop();\n  }, [callback]);\n  var stopLoop = React.useCallback(function () {\n    cancelDefer(deferIdRef.current);\n    deferIdRef.current = null;\n  }, []);\n  React.useEffect(function () {\n    if (deferIdRef.current) {\n      stopLoop();\n      runLoop();\n    }\n  }, [runLoop, stopLoop]);\n  React.useEffect(cancelDefer, []);\n  return [runLoop, stopLoop];\n}\nfunction useSelection(inputRef, isMasked) {\n  var selectionRef = React.useRef({\n    start: null,\n    end: null\n  });\n  var getInputElement = useInputElement(inputRef);\n  var getSelection = React.useCallback(function () {\n    var input = getInputElement();\n    return getInputSelection(input);\n  }, [getInputElement]);\n  var getLastSelection = React.useCallback(function () {\n    return selectionRef.current;\n  }, []);\n  var setSelection = React.useCallback(function (selection) {\n    var input = getInputElement(); // Don't change selection on unfocused input\n    // because Safari sets focus on selection change (#154)\n\n    if (!input || !isInputFocused(input)) {\n      return;\n    }\n    setInputSelection(input, selection.start, selection.end); // Use actual selection in case the requested one was out of range\n\n    selectionRef.current = getSelection();\n  }, [getInputElement, getSelection]);\n  var selectionLoop = React.useCallback(function () {\n    selectionRef.current = getSelection();\n  }, [getSelection]);\n  var _useDeferLoop = useDeferLoop(selectionLoop),\n    runSelectionLoop = _useDeferLoop[0],\n    stopSelectionLoop = _useDeferLoop[1];\n  React.useLayoutEffect(function () {\n    if (!isMasked) {\n      return;\n    }\n    var input = getInputElement();\n    input.addEventListener(\"focus\", runSelectionLoop);\n    input.addEventListener(\"blur\", stopSelectionLoop);\n    if (isInputFocused(input)) {\n      runSelectionLoop();\n    }\n    return function () {\n      input.removeEventListener(\"focus\", runSelectionLoop);\n      input.removeEventListener(\"blur\", stopSelectionLoop);\n      stopSelectionLoop();\n    };\n  });\n  return {\n    getSelection: getSelection,\n    getLastSelection: getLastSelection,\n    setSelection: setSelection\n  };\n}\nfunction useValue(inputRef, initialValue) {\n  var getInputElement = useInputElement(inputRef);\n  var valueRef = React.useRef(initialValue);\n  var getValue = React.useCallback(function () {\n    var input = getInputElement();\n    return input.value;\n  }, [getInputElement]);\n  var getLastValue = React.useCallback(function () {\n    return valueRef.current;\n  }, []);\n  var setValue = React.useCallback(function (newValue) {\n    valueRef.current = newValue;\n    var input = getInputElement();\n    if (input) {\n      input.value = newValue;\n    }\n  }, [getInputElement]);\n  return {\n    getValue: getValue,\n    getLastValue: getLastValue,\n    setValue: setValue\n  };\n}\nfunction useInputState(initialValue, isMasked) {\n  var inputRef = React.useRef();\n  var _useSelection = useSelection(inputRef, isMasked),\n    getSelection = _useSelection.getSelection,\n    getLastSelection = _useSelection.getLastSelection,\n    setSelection = _useSelection.setSelection;\n  var _useValue = useValue(inputRef, initialValue),\n    getValue = _useValue.getValue,\n    getLastValue = _useValue.getLastValue,\n    setValue = _useValue.setValue;\n  function getLastInputState() {\n    return {\n      value: getLastValue(),\n      selection: getLastSelection()\n    };\n  }\n  function getInputState() {\n    return {\n      value: getValue(),\n      selection: getSelection()\n    };\n  }\n  function setInputState(_ref) {\n    var value = _ref.value,\n      selection = _ref.selection;\n    setValue(value);\n    setSelection(selection);\n  }\n  return {\n    inputRef: inputRef,\n    getInputState: getInputState,\n    getLastInputState: getLastInputState,\n    setInputState: setInputState\n  };\n}\nfunction usePrevious(value) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\nvar CONTROLLED_PROPS = [\"disabled\", \"onBlur\", \"onChange\", \"onFocus\", \"onMouseDown\", \"readOnly\", \"value\"];\nvar defaultFormatChars = {\n  \"9\": /[0-9]/,\n  a: /[A-Za-z]/,\n  \"*\": /[A-Za-z0-9]/\n};\nfunction validateMaxLength(props) {\n  process.env.NODE_ENV !== \"production\" ? warning(!props.maxLength || !props.mask, \"react-input-mask: maxLength property shouldn't be passed to the masked input. It breaks masking and unnecessary because length is limited by the mask length.\") : void 0;\n}\nfunction validateMaskPlaceholder(props) {\n  var mask = props.mask,\n    maskPlaceholder = props.maskPlaceholder;\n  !(!mask || !maskPlaceholder || maskPlaceholder.length === 1 || maskPlaceholder.length === mask.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-input-mask: maskPlaceholder should either be a single character or have the same length as the mask:\\n\" + (\"mask: \" + mask + \"\\n\") + (\"maskPlaceholder: \" + maskPlaceholder)) : invariant(false) : void 0;\n}\nfunction validateChildren(props, inputElement) {\n  var conflictProps = CONTROLLED_PROPS.filter(function (propId) {\n    return inputElement.props[propId] != null && inputElement.props[propId] !== props[propId];\n  });\n  !!conflictProps.length ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-input-mask: the following props should be passed to the InputMask component, not to children: \" + conflictProps.join(\",\")) : invariant(false) : void 0;\n}\nfunction parseMask(_ref) {\n  var mask = _ref.mask,\n    maskPlaceholder = _ref.maskPlaceholder;\n  var permanents = [];\n  if (!mask) {\n    return {\n      maskPlaceholder: null,\n      mask: null,\n      prefix: null,\n      lastEditablePosition: null,\n      permanents: []\n    };\n  }\n  if (typeof mask === \"string\") {\n    var isPermanent = false;\n    var parsedMaskString = \"\";\n    mask.split(\"\").forEach(function (character) {\n      if (!isPermanent && character === \"\\\\\") {\n        isPermanent = true;\n      } else {\n        if (isPermanent || !defaultFormatChars[character]) {\n          permanents.push(parsedMaskString.length);\n        }\n        parsedMaskString += character;\n        isPermanent = false;\n      }\n    });\n    mask = parsedMaskString.split(\"\").map(function (character, index) {\n      if (permanents.indexOf(index) === -1) {\n        return defaultFormatChars[character];\n      }\n      return character;\n    });\n  } else {\n    mask.forEach(function (character, index) {\n      if (typeof character === \"string\") {\n        permanents.push(index);\n      }\n    });\n  }\n  if (maskPlaceholder) {\n    if (maskPlaceholder.length === 1) {\n      maskPlaceholder = mask.map(function (character, index) {\n        if (permanents.indexOf(index) !== -1) {\n          return character;\n        }\n        return maskPlaceholder;\n      });\n    } else {\n      maskPlaceholder = maskPlaceholder.split(\"\");\n    }\n    permanents.forEach(function (position) {\n      maskPlaceholder[position] = mask[position];\n    });\n    maskPlaceholder = maskPlaceholder.join(\"\");\n  }\n  var prefix = permanents.filter(function (position, index) {\n    return position === index;\n  }).map(function (position) {\n    return mask[position];\n  }).join(\"\");\n  var lastEditablePosition = mask.length - 1;\n  while (permanents.indexOf(lastEditablePosition) !== -1) {\n    lastEditablePosition--;\n  }\n  return {\n    maskPlaceholder: maskPlaceholder,\n    prefix: prefix,\n    mask: mask,\n    lastEditablePosition: lastEditablePosition,\n    permanents: permanents\n  };\n}\n\n/* eslint no-use-before-define: [\"error\", { functions: false }] */\n\nvar MaskUtils = function MaskUtils(options) {\n  var _this = this;\n  this.isCharacterAllowedAtPosition = function (character, position) {\n    var maskPlaceholder = _this.maskOptions.maskPlaceholder;\n    if (_this.isCharacterFillingPosition(character, position)) {\n      return true;\n    }\n    if (!maskPlaceholder) {\n      return false;\n    }\n    return maskPlaceholder[position] === character;\n  };\n  this.isCharacterFillingPosition = function (character, position) {\n    var mask = _this.maskOptions.mask;\n    if (!character || position >= mask.length) {\n      return false;\n    }\n    if (!_this.isPositionEditable(position)) {\n      return mask[position] === character;\n    }\n    var charRule = mask[position];\n    return new RegExp(charRule).test(character);\n  };\n  this.isPositionEditable = function (position) {\n    var _this$maskOptions = _this.maskOptions,\n      mask = _this$maskOptions.mask,\n      permanents = _this$maskOptions.permanents;\n    return position < mask.length && permanents.indexOf(position) === -1;\n  };\n  this.isValueEmpty = function (value) {\n    return value.split(\"\").every(function (character, position) {\n      return !_this.isPositionEditable(position) || !_this.isCharacterFillingPosition(character, position);\n    });\n  };\n  this.isValueFilled = function (value) {\n    return _this.getFilledLength(value) === _this.maskOptions.lastEditablePosition + 1;\n  };\n  this.getDefaultSelectionForValue = function (value) {\n    var filledLength = _this.getFilledLength(value);\n    var cursorPosition = _this.getRightEditablePosition(filledLength);\n    return {\n      start: cursorPosition,\n      end: cursorPosition\n    };\n  };\n  this.getFilledLength = function (value) {\n    var characters = value.split(\"\");\n    var lastFilledIndex = findLastIndex(characters, function (character, position) {\n      return _this.isPositionEditable(position) && _this.isCharacterFillingPosition(character, position);\n    });\n    return lastFilledIndex + 1;\n  };\n  this.getStringFillingLengthAtPosition = function (string, position) {\n    var characters = string.split(\"\");\n    var insertedValue = characters.reduce(function (value, character) {\n      return _this.insertCharacterAtPosition(value, character, value.length);\n    }, repeat(\" \", position));\n    return insertedValue.length - position;\n  };\n  this.getLeftEditablePosition = function (position) {\n    for (var i = position; i >= 0; i--) {\n      if (_this.isPositionEditable(i)) {\n        return i;\n      }\n    }\n    return null;\n  };\n  this.getRightEditablePosition = function (position) {\n    var mask = _this.maskOptions.mask;\n    for (var i = position; i < mask.length; i++) {\n      if (_this.isPositionEditable(i)) {\n        return i;\n      }\n    }\n    return null;\n  };\n  this.formatValue = function (value) {\n    var _this$maskOptions2 = _this.maskOptions,\n      maskPlaceholder = _this$maskOptions2.maskPlaceholder,\n      mask = _this$maskOptions2.mask;\n    if (!maskPlaceholder) {\n      value = _this.insertStringAtPosition(\"\", value, 0);\n      while (value.length < mask.length && !_this.isPositionEditable(value.length)) {\n        value += mask[value.length];\n      }\n      return value;\n    }\n    return _this.insertStringAtPosition(maskPlaceholder, value, 0);\n  };\n  this.clearRange = function (value, start, len) {\n    if (!len) {\n      return value;\n    }\n    var end = start + len;\n    var _this$maskOptions3 = _this.maskOptions,\n      maskPlaceholder = _this$maskOptions3.maskPlaceholder,\n      mask = _this$maskOptions3.mask;\n    var clearedValue = value.split(\"\").map(function (character, i) {\n      var isEditable = _this.isPositionEditable(i);\n      if (!maskPlaceholder && i >= end && !isEditable) {\n        return \"\";\n      }\n      if (i < start || i >= end) {\n        return character;\n      }\n      if (!isEditable) {\n        return mask[i];\n      }\n      if (maskPlaceholder) {\n        return maskPlaceholder[i];\n      }\n      return \"\";\n    }).join(\"\");\n    return _this.formatValue(clearedValue);\n  };\n  this.insertCharacterAtPosition = function (value, character, position) {\n    var _this$maskOptions4 = _this.maskOptions,\n      mask = _this$maskOptions4.mask,\n      maskPlaceholder = _this$maskOptions4.maskPlaceholder;\n    if (position >= mask.length) {\n      return value;\n    }\n    var isAllowed = _this.isCharacterAllowedAtPosition(character, position);\n    var isEditable = _this.isPositionEditable(position);\n    var nextEditablePosition = _this.getRightEditablePosition(position);\n    var isNextPlaceholder = maskPlaceholder && nextEditablePosition ? character === maskPlaceholder[nextEditablePosition] : null;\n    var valueBefore = value.slice(0, position);\n    if (isAllowed || !isEditable) {\n      var insertedCharacter = isAllowed ? character : mask[position];\n      value = valueBefore + insertedCharacter;\n    }\n    if (!isAllowed && !isEditable && !isNextPlaceholder) {\n      value = _this.insertCharacterAtPosition(value, character, position + 1);\n    }\n    return value;\n  };\n  this.insertStringAtPosition = function (value, string, position) {\n    var _this$maskOptions5 = _this.maskOptions,\n      mask = _this$maskOptions5.mask,\n      maskPlaceholder = _this$maskOptions5.maskPlaceholder;\n    if (!string || position >= mask.length) {\n      return value;\n    }\n    var characters = string.split(\"\");\n    var isFixedLength = _this.isValueFilled(value) || !!maskPlaceholder;\n    var valueAfter = value.slice(position);\n    value = characters.reduce(function (value, character) {\n      return _this.insertCharacterAtPosition(value, character, value.length);\n    }, value.slice(0, position));\n    if (isFixedLength) {\n      value += valueAfter.slice(value.length - position);\n    } else if (_this.isValueFilled(value)) {\n      value += mask.slice(value.length).join(\"\");\n    } else {\n      var editableCharactersAfter = valueAfter.split(\"\").filter(function (character, i) {\n        return _this.isPositionEditable(position + i);\n      });\n      value = editableCharactersAfter.reduce(function (value, character) {\n        var nextEditablePosition = _this.getRightEditablePosition(value.length);\n        if (nextEditablePosition === null) {\n          return value;\n        }\n        if (!_this.isPositionEditable(value.length)) {\n          value += mask.slice(value.length, nextEditablePosition).join(\"\");\n        }\n        return _this.insertCharacterAtPosition(value, character, value.length);\n      }, value);\n    }\n    return value;\n  };\n  this.processChange = function (currentState, previousState) {\n    var _this$maskOptions6 = _this.maskOptions,\n      mask = _this$maskOptions6.mask,\n      prefix = _this$maskOptions6.prefix,\n      lastEditablePosition = _this$maskOptions6.lastEditablePosition;\n    var value = currentState.value,\n      selection = currentState.selection;\n    var previousValue = previousState.value;\n    var previousSelection = previousState.selection;\n    var newValue = value;\n    var enteredString = \"\";\n    var formattedEnteredStringLength = 0;\n    var removedLength = 0;\n    var cursorPosition = Math.min(previousSelection.start, selection.start);\n    if (selection.end > previousSelection.start) {\n      enteredString = newValue.slice(previousSelection.start, selection.end);\n      formattedEnteredStringLength = _this.getStringFillingLengthAtPosition(enteredString, cursorPosition);\n      if (!formattedEnteredStringLength) {\n        removedLength = 0;\n      } else {\n        removedLength = previousSelection.length;\n      }\n    } else if (newValue.length < previousValue.length) {\n      removedLength = previousValue.length - newValue.length;\n    }\n    newValue = previousValue;\n    if (removedLength) {\n      if (removedLength === 1 && !previousSelection.length) {\n        var deleteFromRight = previousSelection.start === selection.start;\n        cursorPosition = deleteFromRight ? _this.getRightEditablePosition(selection.start) : _this.getLeftEditablePosition(selection.start);\n      }\n      newValue = _this.clearRange(newValue, cursorPosition, removedLength);\n    }\n    newValue = _this.insertStringAtPosition(newValue, enteredString, cursorPosition);\n    cursorPosition += formattedEnteredStringLength;\n    if (cursorPosition >= mask.length) {\n      cursorPosition = mask.length;\n    } else if (cursorPosition < prefix.length && !formattedEnteredStringLength) {\n      cursorPosition = prefix.length;\n    } else if (cursorPosition >= prefix.length && cursorPosition < lastEditablePosition && formattedEnteredStringLength) {\n      cursorPosition = _this.getRightEditablePosition(cursorPosition);\n    }\n    newValue = _this.formatValue(newValue);\n    return {\n      value: newValue,\n      enteredString: enteredString,\n      selection: {\n        start: cursorPosition,\n        end: cursorPosition\n      }\n    };\n  };\n  this.maskOptions = parseMask(options);\n};\nvar InputMaskChildrenWrapper = /*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InputMaskChildrenWrapper, _React$Component);\n  function InputMaskChildrenWrapper() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n  var _proto = InputMaskChildrenWrapper.prototype;\n  _proto.render = function render() {\n    // eslint-disable-next-line react/prop-types\n    var _this$props = this.props,\n      children = _this$props.children,\n      props = _objectWithoutPropertiesLoose(_this$props, [\"children\"]);\n    return React__default.cloneElement(children, props);\n  };\n  return InputMaskChildrenWrapper;\n}(React__default.Component);\nvar InputMask = React.forwardRef(function InputMask(props, forwardedRef) {\n  var alwaysShowMask = props.alwaysShowMask,\n    children = props.children,\n    mask = props.mask,\n    maskPlaceholder = props.maskPlaceholder,\n    beforeMaskedStateChange = props.beforeMaskedStateChange,\n    restProps = _objectWithoutPropertiesLoose(props, [\"alwaysShowMask\", \"children\", \"mask\", \"maskPlaceholder\", \"beforeMaskedStateChange\"]);\n  validateMaxLength(props);\n  validateMaskPlaceholder(props);\n  var maskUtils = new MaskUtils({\n    mask: mask,\n    maskPlaceholder: maskPlaceholder\n  });\n  var isMasked = !!mask;\n  var isEditable = !restProps.disabled && !restProps.readOnly;\n  var isControlled = props.value !== null && props.value !== undefined;\n  var previousIsMasked = usePrevious(isMasked);\n  var initialValue = toString((isControlled ? props.value : props.defaultValue) || \"\");\n  var _useInputState = useInputState(initialValue, isMasked),\n    inputRef = _useInputState.inputRef,\n    getInputState = _useInputState.getInputState,\n    setInputState = _useInputState.setInputState,\n    getLastInputState = _useInputState.getLastInputState;\n  var getInputElement = useInputElement(inputRef);\n  function onChange(event) {\n    var currentState = getInputState();\n    var previousState = getLastInputState();\n    var newInputState = maskUtils.processChange(currentState, previousState);\n    if (beforeMaskedStateChange) {\n      newInputState = beforeMaskedStateChange({\n        currentState: currentState,\n        previousState: previousState,\n        nextState: newInputState\n      });\n    }\n    setInputState(newInputState);\n    if (props.onChange) {\n      props.onChange(event);\n    }\n  }\n  function onFocus(event) {\n    // If autoFocus property is set, focus event fires before the ref handler gets called\n    inputRef.current = event.target;\n    var currentValue = getInputState().value;\n    if (isMasked && !maskUtils.isValueFilled(currentValue)) {\n      var newValue = maskUtils.formatValue(currentValue);\n      var newSelection = maskUtils.getDefaultSelectionForValue(newValue);\n      var newInputState = {\n        value: newValue,\n        selection: newSelection\n      };\n      if (beforeMaskedStateChange) {\n        newInputState = beforeMaskedStateChange({\n          currentState: getInputState(),\n          nextState: newInputState\n        });\n        newValue = newInputState.value;\n        newSelection = newInputState.selection;\n      }\n      setInputState(newInputState);\n      if (newValue !== currentValue && props.onChange) {\n        props.onChange(event);\n      } // Chrome resets selection after focus event,\n      // so we want to restore it later\n\n      defer(function () {\n        setInputState(getLastInputState());\n      });\n    }\n    if (props.onFocus) {\n      props.onFocus(event);\n    }\n  }\n  function onBlur(event) {\n    var currentValue = getInputState().value;\n    var lastValue = getLastInputState().value;\n    if (isMasked && !alwaysShowMask && maskUtils.isValueEmpty(lastValue)) {\n      var newValue = \"\";\n      var newInputState = {\n        value: newValue,\n        selection: {\n          start: null,\n          end: null\n        }\n      };\n      if (beforeMaskedStateChange) {\n        newInputState = beforeMaskedStateChange({\n          currentState: getInputState(),\n          nextState: newInputState\n        });\n        newValue = newInputState.value;\n      }\n      setInputState(newInputState);\n      if (newValue !== currentValue && props.onChange) {\n        props.onChange(event);\n      }\n    }\n    if (props.onBlur) {\n      props.onBlur(event);\n    }\n  } // Tiny unintentional mouse movements can break cursor\n  // position on focus, so we have to restore it in that case\n  //\n  // https://github.com/sanniassin/react-input-mask/issues/108\n\n  function onMouseDown(event) {\n    var input = getInputElement();\n    var _getInputState = getInputState(),\n      value = _getInputState.value;\n    var inputDocument = getElementDocument(input);\n    if (!isInputFocused(input) && !maskUtils.isValueFilled(value)) {\n      var mouseDownX = event.clientX;\n      var mouseDownY = event.clientY;\n      var mouseDownTime = new Date().getTime();\n      var mouseUpHandler = function mouseUpHandler(mouseUpEvent) {\n        inputDocument.removeEventListener(\"mouseup\", mouseUpHandler);\n        if (!isInputFocused(input)) {\n          return;\n        }\n        var deltaX = Math.abs(mouseUpEvent.clientX - mouseDownX);\n        var deltaY = Math.abs(mouseUpEvent.clientY - mouseDownY);\n        var axisDelta = Math.max(deltaX, deltaY);\n        var timeDelta = new Date().getTime() - mouseDownTime;\n        if (axisDelta <= 10 && timeDelta <= 200 || axisDelta <= 5 && timeDelta <= 300) {\n          var _lastState = getLastInputState();\n          var newSelection = maskUtils.getDefaultSelectionForValue(_lastState.value);\n          var newState = _extends({}, _lastState, {\n            selection: newSelection\n          });\n          setInputState(newState);\n        }\n      };\n      inputDocument.addEventListener(\"mouseup\", mouseUpHandler);\n    }\n    if (props.onMouseDown) {\n      props.onMouseDown(event);\n    }\n  } // For controlled inputs we want to provide properly formatted\n  // value prop\n\n  if (isMasked && isControlled) {\n    var input = getInputElement();\n    var isFocused = input && isInputFocused(input);\n    var newValue = isFocused || alwaysShowMask || props.value ? maskUtils.formatValue(props.value) : props.value;\n    if (beforeMaskedStateChange) {\n      newValue = beforeMaskedStateChange({\n        nextState: {\n          value: newValue,\n          selection: {\n            start: null,\n            end: null\n          }\n        }\n      }).value;\n    }\n    setInputState(_extends({}, getLastInputState(), {\n      value: newValue\n    }));\n  }\n  var lastState = getLastInputState();\n  var lastSelection = lastState.selection;\n  var lastValue = lastState.value;\n  React.useLayoutEffect(function () {\n    if (!isMasked) {\n      return;\n    }\n    var input = getInputElement();\n    var isFocused = isInputFocused(input);\n    var previousSelection = lastSelection;\n    var currentState = getInputState();\n    var newInputState = _extends({}, currentState); // Update value for uncontrolled inputs to make sure\n    // it's always in sync with mask props\n\n    if (!isControlled) {\n      var currentValue = currentState.value;\n      var formattedValue = maskUtils.formatValue(currentValue);\n      var isValueEmpty = maskUtils.isValueEmpty(formattedValue);\n      var shouldFormatValue = !isValueEmpty || isFocused || alwaysShowMask;\n      if (shouldFormatValue) {\n        newInputState.value = formattedValue;\n      } else if (isValueEmpty && !isFocused) {\n        newInputState.value = \"\";\n      }\n    }\n    if (isFocused && !previousIsMasked) {\n      // Adjust selection if input got masked while being focused\n      newInputState.selection = maskUtils.getDefaultSelectionForValue(newInputState.value);\n    } else if (isControlled && isFocused && previousSelection) {\n      // Restore cursor position if value has changed outside change event\n      if (previousSelection.start !== null && previousSelection.end !== null) {\n        newInputState.selection = previousSelection;\n      }\n    }\n    if (beforeMaskedStateChange) {\n      newInputState = beforeMaskedStateChange({\n        currentState: currentState,\n        nextState: newInputState\n      });\n    }\n    setInputState(newInputState);\n  });\n  var inputProps = _extends({}, restProps, {\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: isMasked && isEditable ? onChange : props.onChange,\n    onMouseDown: isMasked && isEditable ? onMouseDown : props.onMouseDown,\n    ref: function ref(_ref) {\n      inputRef.current = reactDom.findDOMNode(_ref);\n      if (isFunction(forwardedRef)) {\n        forwardedRef(_ref);\n      } else if (forwardedRef !== null && typeof forwardedRef === \"object\") {\n        forwardedRef.current = _ref;\n      }\n    },\n    value: isMasked && isControlled ? lastValue : props.value\n  });\n  if (children) {\n    validateChildren(props, children); // We wrap children into a class component to be able to find\n    // their input element using findDOMNode\n\n    return React__default.createElement(InputMaskChildrenWrapper, inputProps, children);\n  }\n  return React__default.createElement(\"input\", inputProps);\n});\nInputMask.displayName = \"InputMask\";\nInputMask.defaultProps = {\n  alwaysShowMask: false,\n  maskPlaceholder: \"_\"\n};\nInputMask.propTypes = {\n  alwaysShowMask: PropTypes.bool,\n  beforeMaskedStateChange: PropTypes.func,\n  children: PropTypes.element,\n  mask: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]))]),\n  maskPlaceholder: PropTypes.string,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onMouseDown: PropTypes.func\n};\nmodule.exports = InputMask;","map":{"version":3,"names":["_interopDefault","ex","React","require","React__default","reactDom","PropTypes","invariant","warning","_defaults2","obj","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","defer","fn","requestAnimationFrame","cancelDefer","deferId","cancelAnimationFrame","setInputSelection","input","start","end","setSelectionRange","getInputSelection","selectionStart","selectionEnd","isInputFocused","inputDocument","ownerDocument","hasFocus","activeElement","getElementDocument","element","getElementWindow","_getElementDocument","defaultView","isDOMElement","elementWindow","HTMLElement","isFunction","findLastIndex","array","predicate","x","repeat","string","n","result","toString","useInputElement","inputRef","useCallback","current","isDOMNode","window","nodeName","querySelector","Error","useDeferLoop","callback","deferIdRef","useRef","runLoop","loop","stopLoop","useEffect","useSelection","isMasked","selectionRef","getInputElement","getSelection","getLastSelection","setSelection","selection","selectionLoop","_useDeferLoop","runSelectionLoop","stopSelectionLoop","useLayoutEffect","addEventListener","removeEventListener","useValue","initialValue","valueRef","getValue","getLastValue","setValue","newValue","useInputState","_useSelection","_useValue","getLastInputState","getInputState","setInputState","_ref","usePrevious","ref","CONTROLLED_PROPS","defaultFormatChars","a","validateMaxLength","props","process","env","NODE_ENV","maxLength","mask","validateMaskPlaceholder","maskPlaceholder","validateChildren","inputElement","conflictProps","filter","propId","join","parseMask","permanents","prefix","lastEditablePosition","isPermanent","parsedMaskString","split","forEach","character","push","map","index","position","MaskUtils","options","_this","isCharacterAllowedAtPosition","maskOptions","isCharacterFillingPosition","isPositionEditable","charRule","RegExp","test","_this$maskOptions","isValueEmpty","every","isValueFilled","getFilledLength","getDefaultSelectionForValue","filledLength","cursorPosition","getRightEditablePosition","characters","lastFilledIndex","getStringFillingLengthAtPosition","insertedValue","reduce","insertCharacterAtPosition","getLeftEditablePosition","formatValue","_this$maskOptions2","insertStringAtPosition","clearRange","len","_this$maskOptions3","clearedValue","isEditable","_this$maskOptions4","isAllowed","nextEditablePosition","isNextPlaceholder","valueBefore","slice","insertedCharacter","_this$maskOptions5","isFixedLength","valueAfter","editableCharactersAfter","processChange","currentState","previousState","_this$maskOptions6","previousValue","previousSelection","enteredString","formattedEnteredStringLength","removedLength","Math","min","deleteFromRight","InputMaskChildrenWrapper","_React$Component","_proto","render","_this$props","children","cloneElement","Component","InputMask","forwardRef","forwardedRef","alwaysShowMask","beforeMaskedStateChange","restProps","maskUtils","disabled","readOnly","isControlled","previousIsMasked","defaultValue","_useInputState","onChange","event","newInputState","nextState","onFocus","currentValue","newSelection","onBlur","lastValue","onMouseDown","_getInputState","mouseDownX","clientX","mouseDownY","clientY","mouseDownTime","Date","getTime","mouseUpHandler","mouseUpEvent","deltaX","abs","deltaY","axisDelta","max","timeDelta","_lastState","newState","isFocused","lastState","lastSelection","formattedValue","shouldFormatValue","inputProps","findDOMNode","createElement","displayName","defaultProps","propTypes","bool","func","oneOfType","arrayOf","instanceOf","module","exports"],"sources":["/home/marcucosmin3/bootcamp/w10/picasso/node_modules/react-input-mask/lib/react-input-mask.development.js"],"sourcesContent":["'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar reactDom = require('react-dom');\nvar PropTypes = _interopDefault(require('prop-types'));\nvar invariant = _interopDefault(require('invariant'));\nvar warning = _interopDefault(require('warning'));\n\nfunction _defaults2(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _defaults2(subClass, superClass);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction defer(fn) {\n  return requestAnimationFrame(fn);\n}\nfunction cancelDefer(deferId) {\n  cancelAnimationFrame(deferId);\n}\n\nfunction setInputSelection(input, start, end) {\n  if (end === undefined) {\n    end = start;\n  }\n\n  input.setSelectionRange(start, end);\n}\nfunction getInputSelection(input) {\n  var start = input.selectionStart;\n  var end = input.selectionEnd;\n  return {\n    start: start,\n    end: end,\n    length: end - start\n  };\n}\nfunction isInputFocused(input) {\n  var inputDocument = input.ownerDocument;\n  return inputDocument.hasFocus() && inputDocument.activeElement === input;\n}\n\n// Element's window may differ from the one within React instance\n// if element rendered within iframe.\n// See https://github.com/sanniassin/react-input-mask/issues/182\nfunction getElementDocument(element) {\n  return element == null ? void 0 : element.ownerDocument;\n}\nfunction getElementWindow(element) {\n  var _getElementDocument;\n\n  return (_getElementDocument = getElementDocument(element)) == null ? void 0 : _getElementDocument.defaultView;\n}\nfunction isDOMElement(element) {\n  var elementWindow = getElementWindow(element);\n  return !!elementWindow && element instanceof elementWindow.HTMLElement;\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction findLastIndex(array, predicate) {\n  for (var i = array.length - 1; i >= 0; i--) {\n    var x = array[i];\n\n    if (predicate(x, i)) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction repeat(string, n) {\n  if (n === void 0) {\n    n = 1;\n  }\n\n  var result = \"\";\n\n  for (var i = 0; i < n; i++) {\n    result += string;\n  }\n\n  return result;\n}\nfunction toString(value) {\n  return \"\" + value;\n}\n\nfunction useInputElement(inputRef) {\n  return React.useCallback(function () {\n    var input = inputRef.current;\n    var isDOMNode = typeof window !== \"undefined\" && isDOMElement(input); // workaround for react-test-renderer\n    // https://github.com/sanniassin/react-input-mask/issues/147\n\n    if (!input || !isDOMNode) {\n      return null;\n    }\n\n    if (input.nodeName !== \"INPUT\") {\n      input = input.querySelector(\"input\");\n    }\n\n    if (!input) {\n      throw new Error(\"react-input-mask: inputComponent doesn't contain input node\");\n    }\n\n    return input;\n  }, [inputRef]);\n}\n\nfunction useDeferLoop(callback) {\n  var deferIdRef = React.useRef(null);\n  var runLoop = React.useCallback(function () {\n    // If there are simulated focus events, runLoop could be\n    // called multiple times without blur or re-render\n    if (deferIdRef.current !== null) {\n      return;\n    }\n\n    function loop() {\n      callback();\n      deferIdRef.current = defer(loop);\n    }\n\n    loop();\n  }, [callback]);\n  var stopLoop = React.useCallback(function () {\n    cancelDefer(deferIdRef.current);\n    deferIdRef.current = null;\n  }, []);\n  React.useEffect(function () {\n    if (deferIdRef.current) {\n      stopLoop();\n      runLoop();\n    }\n  }, [runLoop, stopLoop]);\n  React.useEffect(cancelDefer, []);\n  return [runLoop, stopLoop];\n}\n\nfunction useSelection(inputRef, isMasked) {\n  var selectionRef = React.useRef({\n    start: null,\n    end: null\n  });\n  var getInputElement = useInputElement(inputRef);\n  var getSelection = React.useCallback(function () {\n    var input = getInputElement();\n    return getInputSelection(input);\n  }, [getInputElement]);\n  var getLastSelection = React.useCallback(function () {\n    return selectionRef.current;\n  }, []);\n  var setSelection = React.useCallback(function (selection) {\n    var input = getInputElement(); // Don't change selection on unfocused input\n    // because Safari sets focus on selection change (#154)\n\n    if (!input || !isInputFocused(input)) {\n      return;\n    }\n\n    setInputSelection(input, selection.start, selection.end); // Use actual selection in case the requested one was out of range\n\n    selectionRef.current = getSelection();\n  }, [getInputElement, getSelection]);\n  var selectionLoop = React.useCallback(function () {\n    selectionRef.current = getSelection();\n  }, [getSelection]);\n\n  var _useDeferLoop = useDeferLoop(selectionLoop),\n      runSelectionLoop = _useDeferLoop[0],\n      stopSelectionLoop = _useDeferLoop[1];\n\n  React.useLayoutEffect(function () {\n    if (!isMasked) {\n      return;\n    }\n\n    var input = getInputElement();\n    input.addEventListener(\"focus\", runSelectionLoop);\n    input.addEventListener(\"blur\", stopSelectionLoop);\n\n    if (isInputFocused(input)) {\n      runSelectionLoop();\n    }\n\n    return function () {\n      input.removeEventListener(\"focus\", runSelectionLoop);\n      input.removeEventListener(\"blur\", stopSelectionLoop);\n      stopSelectionLoop();\n    };\n  });\n  return {\n    getSelection: getSelection,\n    getLastSelection: getLastSelection,\n    setSelection: setSelection\n  };\n}\n\nfunction useValue(inputRef, initialValue) {\n  var getInputElement = useInputElement(inputRef);\n  var valueRef = React.useRef(initialValue);\n  var getValue = React.useCallback(function () {\n    var input = getInputElement();\n    return input.value;\n  }, [getInputElement]);\n  var getLastValue = React.useCallback(function () {\n    return valueRef.current;\n  }, []);\n  var setValue = React.useCallback(function (newValue) {\n    valueRef.current = newValue;\n    var input = getInputElement();\n\n    if (input) {\n      input.value = newValue;\n    }\n  }, [getInputElement]);\n  return {\n    getValue: getValue,\n    getLastValue: getLastValue,\n    setValue: setValue\n  };\n}\n\nfunction useInputState(initialValue, isMasked) {\n  var inputRef = React.useRef();\n\n  var _useSelection = useSelection(inputRef, isMasked),\n      getSelection = _useSelection.getSelection,\n      getLastSelection = _useSelection.getLastSelection,\n      setSelection = _useSelection.setSelection;\n\n  var _useValue = useValue(inputRef, initialValue),\n      getValue = _useValue.getValue,\n      getLastValue = _useValue.getLastValue,\n      setValue = _useValue.setValue;\n\n  function getLastInputState() {\n    return {\n      value: getLastValue(),\n      selection: getLastSelection()\n    };\n  }\n\n  function getInputState() {\n    return {\n      value: getValue(),\n      selection: getSelection()\n    };\n  }\n\n  function setInputState(_ref) {\n    var value = _ref.value,\n        selection = _ref.selection;\n    setValue(value);\n    setSelection(selection);\n  }\n\n  return {\n    inputRef: inputRef,\n    getInputState: getInputState,\n    getLastInputState: getLastInputState,\n    setInputState: setInputState\n  };\n}\nfunction usePrevious(value) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nvar CONTROLLED_PROPS = [\"disabled\", \"onBlur\", \"onChange\", \"onFocus\", \"onMouseDown\", \"readOnly\", \"value\"];\nvar defaultFormatChars = {\n  \"9\": /[0-9]/,\n  a: /[A-Za-z]/,\n  \"*\": /[A-Za-z0-9]/\n};\n\nfunction validateMaxLength(props) {\n  process.env.NODE_ENV !== \"production\" ? warning(!props.maxLength || !props.mask, \"react-input-mask: maxLength property shouldn't be passed to the masked input. It breaks masking and unnecessary because length is limited by the mask length.\") : void 0;\n}\nfunction validateMaskPlaceholder(props) {\n  var mask = props.mask,\n      maskPlaceholder = props.maskPlaceholder;\n  !(!mask || !maskPlaceholder || maskPlaceholder.length === 1 || maskPlaceholder.length === mask.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-input-mask: maskPlaceholder should either be a single character or have the same length as the mask:\\n\" + (\"mask: \" + mask + \"\\n\") + (\"maskPlaceholder: \" + maskPlaceholder)) : invariant(false) : void 0;\n}\nfunction validateChildren(props, inputElement) {\n  var conflictProps = CONTROLLED_PROPS.filter(function (propId) {\n    return inputElement.props[propId] != null && inputElement.props[propId] !== props[propId];\n  });\n  !!conflictProps.length ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-input-mask: the following props should be passed to the InputMask component, not to children: \" + conflictProps.join(\",\")) : invariant(false) : void 0;\n}\n\nfunction parseMask (_ref) {\n  var mask = _ref.mask,\n      maskPlaceholder = _ref.maskPlaceholder;\n  var permanents = [];\n\n  if (!mask) {\n    return {\n      maskPlaceholder: null,\n      mask: null,\n      prefix: null,\n      lastEditablePosition: null,\n      permanents: []\n    };\n  }\n\n  if (typeof mask === \"string\") {\n    var isPermanent = false;\n    var parsedMaskString = \"\";\n    mask.split(\"\").forEach(function (character) {\n      if (!isPermanent && character === \"\\\\\") {\n        isPermanent = true;\n      } else {\n        if (isPermanent || !defaultFormatChars[character]) {\n          permanents.push(parsedMaskString.length);\n        }\n\n        parsedMaskString += character;\n        isPermanent = false;\n      }\n    });\n    mask = parsedMaskString.split(\"\").map(function (character, index) {\n      if (permanents.indexOf(index) === -1) {\n        return defaultFormatChars[character];\n      }\n\n      return character;\n    });\n  } else {\n    mask.forEach(function (character, index) {\n      if (typeof character === \"string\") {\n        permanents.push(index);\n      }\n    });\n  }\n\n  if (maskPlaceholder) {\n    if (maskPlaceholder.length === 1) {\n      maskPlaceholder = mask.map(function (character, index) {\n        if (permanents.indexOf(index) !== -1) {\n          return character;\n        }\n\n        return maskPlaceholder;\n      });\n    } else {\n      maskPlaceholder = maskPlaceholder.split(\"\");\n    }\n\n    permanents.forEach(function (position) {\n      maskPlaceholder[position] = mask[position];\n    });\n    maskPlaceholder = maskPlaceholder.join(\"\");\n  }\n\n  var prefix = permanents.filter(function (position, index) {\n    return position === index;\n  }).map(function (position) {\n    return mask[position];\n  }).join(\"\");\n  var lastEditablePosition = mask.length - 1;\n\n  while (permanents.indexOf(lastEditablePosition) !== -1) {\n    lastEditablePosition--;\n  }\n\n  return {\n    maskPlaceholder: maskPlaceholder,\n    prefix: prefix,\n    mask: mask,\n    lastEditablePosition: lastEditablePosition,\n    permanents: permanents\n  };\n}\n\n/* eslint no-use-before-define: [\"error\", { functions: false }] */\n\nvar MaskUtils = function MaskUtils(options) {\n  var _this = this;\n\n  this.isCharacterAllowedAtPosition = function (character, position) {\n    var maskPlaceholder = _this.maskOptions.maskPlaceholder;\n\n    if (_this.isCharacterFillingPosition(character, position)) {\n      return true;\n    }\n\n    if (!maskPlaceholder) {\n      return false;\n    }\n\n    return maskPlaceholder[position] === character;\n  };\n\n  this.isCharacterFillingPosition = function (character, position) {\n    var mask = _this.maskOptions.mask;\n\n    if (!character || position >= mask.length) {\n      return false;\n    }\n\n    if (!_this.isPositionEditable(position)) {\n      return mask[position] === character;\n    }\n\n    var charRule = mask[position];\n    return new RegExp(charRule).test(character);\n  };\n\n  this.isPositionEditable = function (position) {\n    var _this$maskOptions = _this.maskOptions,\n        mask = _this$maskOptions.mask,\n        permanents = _this$maskOptions.permanents;\n    return position < mask.length && permanents.indexOf(position) === -1;\n  };\n\n  this.isValueEmpty = function (value) {\n    return value.split(\"\").every(function (character, position) {\n      return !_this.isPositionEditable(position) || !_this.isCharacterFillingPosition(character, position);\n    });\n  };\n\n  this.isValueFilled = function (value) {\n    return _this.getFilledLength(value) === _this.maskOptions.lastEditablePosition + 1;\n  };\n\n  this.getDefaultSelectionForValue = function (value) {\n    var filledLength = _this.getFilledLength(value);\n\n    var cursorPosition = _this.getRightEditablePosition(filledLength);\n\n    return {\n      start: cursorPosition,\n      end: cursorPosition\n    };\n  };\n\n  this.getFilledLength = function (value) {\n    var characters = value.split(\"\");\n    var lastFilledIndex = findLastIndex(characters, function (character, position) {\n      return _this.isPositionEditable(position) && _this.isCharacterFillingPosition(character, position);\n    });\n    return lastFilledIndex + 1;\n  };\n\n  this.getStringFillingLengthAtPosition = function (string, position) {\n    var characters = string.split(\"\");\n    var insertedValue = characters.reduce(function (value, character) {\n      return _this.insertCharacterAtPosition(value, character, value.length);\n    }, repeat(\" \", position));\n    return insertedValue.length - position;\n  };\n\n  this.getLeftEditablePosition = function (position) {\n    for (var i = position; i >= 0; i--) {\n      if (_this.isPositionEditable(i)) {\n        return i;\n      }\n    }\n\n    return null;\n  };\n\n  this.getRightEditablePosition = function (position) {\n    var mask = _this.maskOptions.mask;\n\n    for (var i = position; i < mask.length; i++) {\n      if (_this.isPositionEditable(i)) {\n        return i;\n      }\n    }\n\n    return null;\n  };\n\n  this.formatValue = function (value) {\n    var _this$maskOptions2 = _this.maskOptions,\n        maskPlaceholder = _this$maskOptions2.maskPlaceholder,\n        mask = _this$maskOptions2.mask;\n\n    if (!maskPlaceholder) {\n      value = _this.insertStringAtPosition(\"\", value, 0);\n\n      while (value.length < mask.length && !_this.isPositionEditable(value.length)) {\n        value += mask[value.length];\n      }\n\n      return value;\n    }\n\n    return _this.insertStringAtPosition(maskPlaceholder, value, 0);\n  };\n\n  this.clearRange = function (value, start, len) {\n    if (!len) {\n      return value;\n    }\n\n    var end = start + len;\n    var _this$maskOptions3 = _this.maskOptions,\n        maskPlaceholder = _this$maskOptions3.maskPlaceholder,\n        mask = _this$maskOptions3.mask;\n    var clearedValue = value.split(\"\").map(function (character, i) {\n      var isEditable = _this.isPositionEditable(i);\n\n      if (!maskPlaceholder && i >= end && !isEditable) {\n        return \"\";\n      }\n\n      if (i < start || i >= end) {\n        return character;\n      }\n\n      if (!isEditable) {\n        return mask[i];\n      }\n\n      if (maskPlaceholder) {\n        return maskPlaceholder[i];\n      }\n\n      return \"\";\n    }).join(\"\");\n    return _this.formatValue(clearedValue);\n  };\n\n  this.insertCharacterAtPosition = function (value, character, position) {\n    var _this$maskOptions4 = _this.maskOptions,\n        mask = _this$maskOptions4.mask,\n        maskPlaceholder = _this$maskOptions4.maskPlaceholder;\n\n    if (position >= mask.length) {\n      return value;\n    }\n\n    var isAllowed = _this.isCharacterAllowedAtPosition(character, position);\n\n    var isEditable = _this.isPositionEditable(position);\n\n    var nextEditablePosition = _this.getRightEditablePosition(position);\n\n    var isNextPlaceholder = maskPlaceholder && nextEditablePosition ? character === maskPlaceholder[nextEditablePosition] : null;\n    var valueBefore = value.slice(0, position);\n\n    if (isAllowed || !isEditable) {\n      var insertedCharacter = isAllowed ? character : mask[position];\n      value = valueBefore + insertedCharacter;\n    }\n\n    if (!isAllowed && !isEditable && !isNextPlaceholder) {\n      value = _this.insertCharacterAtPosition(value, character, position + 1);\n    }\n\n    return value;\n  };\n\n  this.insertStringAtPosition = function (value, string, position) {\n    var _this$maskOptions5 = _this.maskOptions,\n        mask = _this$maskOptions5.mask,\n        maskPlaceholder = _this$maskOptions5.maskPlaceholder;\n\n    if (!string || position >= mask.length) {\n      return value;\n    }\n\n    var characters = string.split(\"\");\n    var isFixedLength = _this.isValueFilled(value) || !!maskPlaceholder;\n    var valueAfter = value.slice(position);\n    value = characters.reduce(function (value, character) {\n      return _this.insertCharacterAtPosition(value, character, value.length);\n    }, value.slice(0, position));\n\n    if (isFixedLength) {\n      value += valueAfter.slice(value.length - position);\n    } else if (_this.isValueFilled(value)) {\n      value += mask.slice(value.length).join(\"\");\n    } else {\n      var editableCharactersAfter = valueAfter.split(\"\").filter(function (character, i) {\n        return _this.isPositionEditable(position + i);\n      });\n      value = editableCharactersAfter.reduce(function (value, character) {\n        var nextEditablePosition = _this.getRightEditablePosition(value.length);\n\n        if (nextEditablePosition === null) {\n          return value;\n        }\n\n        if (!_this.isPositionEditable(value.length)) {\n          value += mask.slice(value.length, nextEditablePosition).join(\"\");\n        }\n\n        return _this.insertCharacterAtPosition(value, character, value.length);\n      }, value);\n    }\n\n    return value;\n  };\n\n  this.processChange = function (currentState, previousState) {\n    var _this$maskOptions6 = _this.maskOptions,\n        mask = _this$maskOptions6.mask,\n        prefix = _this$maskOptions6.prefix,\n        lastEditablePosition = _this$maskOptions6.lastEditablePosition;\n    var value = currentState.value,\n        selection = currentState.selection;\n    var previousValue = previousState.value;\n    var previousSelection = previousState.selection;\n    var newValue = value;\n    var enteredString = \"\";\n    var formattedEnteredStringLength = 0;\n    var removedLength = 0;\n    var cursorPosition = Math.min(previousSelection.start, selection.start);\n\n    if (selection.end > previousSelection.start) {\n      enteredString = newValue.slice(previousSelection.start, selection.end);\n      formattedEnteredStringLength = _this.getStringFillingLengthAtPosition(enteredString, cursorPosition);\n\n      if (!formattedEnteredStringLength) {\n        removedLength = 0;\n      } else {\n        removedLength = previousSelection.length;\n      }\n    } else if (newValue.length < previousValue.length) {\n      removedLength = previousValue.length - newValue.length;\n    }\n\n    newValue = previousValue;\n\n    if (removedLength) {\n      if (removedLength === 1 && !previousSelection.length) {\n        var deleteFromRight = previousSelection.start === selection.start;\n        cursorPosition = deleteFromRight ? _this.getRightEditablePosition(selection.start) : _this.getLeftEditablePosition(selection.start);\n      }\n\n      newValue = _this.clearRange(newValue, cursorPosition, removedLength);\n    }\n\n    newValue = _this.insertStringAtPosition(newValue, enteredString, cursorPosition);\n    cursorPosition += formattedEnteredStringLength;\n\n    if (cursorPosition >= mask.length) {\n      cursorPosition = mask.length;\n    } else if (cursorPosition < prefix.length && !formattedEnteredStringLength) {\n      cursorPosition = prefix.length;\n    } else if (cursorPosition >= prefix.length && cursorPosition < lastEditablePosition && formattedEnteredStringLength) {\n      cursorPosition = _this.getRightEditablePosition(cursorPosition);\n    }\n\n    newValue = _this.formatValue(newValue);\n    return {\n      value: newValue,\n      enteredString: enteredString,\n      selection: {\n        start: cursorPosition,\n        end: cursorPosition\n      }\n    };\n  };\n\n  this.maskOptions = parseMask(options);\n};\n\nvar InputMaskChildrenWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InputMaskChildrenWrapper, _React$Component);\n\n  function InputMaskChildrenWrapper() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = InputMaskChildrenWrapper.prototype;\n\n  _proto.render = function render() {\n    // eslint-disable-next-line react/prop-types\n    var _this$props = this.props,\n        children = _this$props.children,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\"]);\n\n    return React__default.cloneElement(children, props);\n  };\n\n  return InputMaskChildrenWrapper;\n}(React__default.Component);\n\nvar InputMask = React.forwardRef(function InputMask(props, forwardedRef) {\n  var alwaysShowMask = props.alwaysShowMask,\n      children = props.children,\n      mask = props.mask,\n      maskPlaceholder = props.maskPlaceholder,\n      beforeMaskedStateChange = props.beforeMaskedStateChange,\n      restProps = _objectWithoutPropertiesLoose(props, [\"alwaysShowMask\", \"children\", \"mask\", \"maskPlaceholder\", \"beforeMaskedStateChange\"]);\n\n  validateMaxLength(props);\n  validateMaskPlaceholder(props);\n  var maskUtils = new MaskUtils({\n    mask: mask,\n    maskPlaceholder: maskPlaceholder\n  });\n  var isMasked = !!mask;\n  var isEditable = !restProps.disabled && !restProps.readOnly;\n  var isControlled = props.value !== null && props.value !== undefined;\n  var previousIsMasked = usePrevious(isMasked);\n  var initialValue = toString((isControlled ? props.value : props.defaultValue) || \"\");\n\n  var _useInputState = useInputState(initialValue, isMasked),\n      inputRef = _useInputState.inputRef,\n      getInputState = _useInputState.getInputState,\n      setInputState = _useInputState.setInputState,\n      getLastInputState = _useInputState.getLastInputState;\n\n  var getInputElement = useInputElement(inputRef);\n\n  function onChange(event) {\n    var currentState = getInputState();\n    var previousState = getLastInputState();\n    var newInputState = maskUtils.processChange(currentState, previousState);\n\n    if (beforeMaskedStateChange) {\n      newInputState = beforeMaskedStateChange({\n        currentState: currentState,\n        previousState: previousState,\n        nextState: newInputState\n      });\n    }\n\n    setInputState(newInputState);\n\n    if (props.onChange) {\n      props.onChange(event);\n    }\n  }\n\n  function onFocus(event) {\n    // If autoFocus property is set, focus event fires before the ref handler gets called\n    inputRef.current = event.target;\n    var currentValue = getInputState().value;\n\n    if (isMasked && !maskUtils.isValueFilled(currentValue)) {\n      var newValue = maskUtils.formatValue(currentValue);\n      var newSelection = maskUtils.getDefaultSelectionForValue(newValue);\n      var newInputState = {\n        value: newValue,\n        selection: newSelection\n      };\n\n      if (beforeMaskedStateChange) {\n        newInputState = beforeMaskedStateChange({\n          currentState: getInputState(),\n          nextState: newInputState\n        });\n        newValue = newInputState.value;\n        newSelection = newInputState.selection;\n      }\n\n      setInputState(newInputState);\n\n      if (newValue !== currentValue && props.onChange) {\n        props.onChange(event);\n      } // Chrome resets selection after focus event,\n      // so we want to restore it later\n\n\n      defer(function () {\n        setInputState(getLastInputState());\n      });\n    }\n\n    if (props.onFocus) {\n      props.onFocus(event);\n    }\n  }\n\n  function onBlur(event) {\n    var currentValue = getInputState().value;\n    var lastValue = getLastInputState().value;\n\n    if (isMasked && !alwaysShowMask && maskUtils.isValueEmpty(lastValue)) {\n      var newValue = \"\";\n      var newInputState = {\n        value: newValue,\n        selection: {\n          start: null,\n          end: null\n        }\n      };\n\n      if (beforeMaskedStateChange) {\n        newInputState = beforeMaskedStateChange({\n          currentState: getInputState(),\n          nextState: newInputState\n        });\n        newValue = newInputState.value;\n      }\n\n      setInputState(newInputState);\n\n      if (newValue !== currentValue && props.onChange) {\n        props.onChange(event);\n      }\n    }\n\n    if (props.onBlur) {\n      props.onBlur(event);\n    }\n  } // Tiny unintentional mouse movements can break cursor\n  // position on focus, so we have to restore it in that case\n  //\n  // https://github.com/sanniassin/react-input-mask/issues/108\n\n\n  function onMouseDown(event) {\n    var input = getInputElement();\n\n    var _getInputState = getInputState(),\n        value = _getInputState.value;\n\n    var inputDocument = getElementDocument(input);\n\n    if (!isInputFocused(input) && !maskUtils.isValueFilled(value)) {\n      var mouseDownX = event.clientX;\n      var mouseDownY = event.clientY;\n      var mouseDownTime = new Date().getTime();\n\n      var mouseUpHandler = function mouseUpHandler(mouseUpEvent) {\n        inputDocument.removeEventListener(\"mouseup\", mouseUpHandler);\n\n        if (!isInputFocused(input)) {\n          return;\n        }\n\n        var deltaX = Math.abs(mouseUpEvent.clientX - mouseDownX);\n        var deltaY = Math.abs(mouseUpEvent.clientY - mouseDownY);\n        var axisDelta = Math.max(deltaX, deltaY);\n        var timeDelta = new Date().getTime() - mouseDownTime;\n\n        if (axisDelta <= 10 && timeDelta <= 200 || axisDelta <= 5 && timeDelta <= 300) {\n          var _lastState = getLastInputState();\n\n          var newSelection = maskUtils.getDefaultSelectionForValue(_lastState.value);\n\n          var newState = _extends({}, _lastState, {\n            selection: newSelection\n          });\n\n          setInputState(newState);\n        }\n      };\n\n      inputDocument.addEventListener(\"mouseup\", mouseUpHandler);\n    }\n\n    if (props.onMouseDown) {\n      props.onMouseDown(event);\n    }\n  } // For controlled inputs we want to provide properly formatted\n  // value prop\n\n\n  if (isMasked && isControlled) {\n    var input = getInputElement();\n    var isFocused = input && isInputFocused(input);\n    var newValue = isFocused || alwaysShowMask || props.value ? maskUtils.formatValue(props.value) : props.value;\n\n    if (beforeMaskedStateChange) {\n      newValue = beforeMaskedStateChange({\n        nextState: {\n          value: newValue,\n          selection: {\n            start: null,\n            end: null\n          }\n        }\n      }).value;\n    }\n\n    setInputState(_extends({}, getLastInputState(), {\n      value: newValue\n    }));\n  }\n\n  var lastState = getLastInputState();\n  var lastSelection = lastState.selection;\n  var lastValue = lastState.value;\n  React.useLayoutEffect(function () {\n    if (!isMasked) {\n      return;\n    }\n\n    var input = getInputElement();\n    var isFocused = isInputFocused(input);\n    var previousSelection = lastSelection;\n    var currentState = getInputState();\n\n    var newInputState = _extends({}, currentState); // Update value for uncontrolled inputs to make sure\n    // it's always in sync with mask props\n\n\n    if (!isControlled) {\n      var currentValue = currentState.value;\n      var formattedValue = maskUtils.formatValue(currentValue);\n      var isValueEmpty = maskUtils.isValueEmpty(formattedValue);\n      var shouldFormatValue = !isValueEmpty || isFocused || alwaysShowMask;\n\n      if (shouldFormatValue) {\n        newInputState.value = formattedValue;\n      } else if (isValueEmpty && !isFocused) {\n        newInputState.value = \"\";\n      }\n    }\n\n    if (isFocused && !previousIsMasked) {\n      // Adjust selection if input got masked while being focused\n      newInputState.selection = maskUtils.getDefaultSelectionForValue(newInputState.value);\n    } else if (isControlled && isFocused && previousSelection) {\n      // Restore cursor position if value has changed outside change event\n      if (previousSelection.start !== null && previousSelection.end !== null) {\n        newInputState.selection = previousSelection;\n      }\n    }\n\n    if (beforeMaskedStateChange) {\n      newInputState = beforeMaskedStateChange({\n        currentState: currentState,\n        nextState: newInputState\n      });\n    }\n\n    setInputState(newInputState);\n  });\n\n  var inputProps = _extends({}, restProps, {\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: isMasked && isEditable ? onChange : props.onChange,\n    onMouseDown: isMasked && isEditable ? onMouseDown : props.onMouseDown,\n    ref: function ref(_ref) {\n      inputRef.current = reactDom.findDOMNode(_ref);\n\n      if (isFunction(forwardedRef)) {\n        forwardedRef(_ref);\n      } else if (forwardedRef !== null && typeof forwardedRef === \"object\") {\n        forwardedRef.current = _ref;\n      }\n    },\n    value: isMasked && isControlled ? lastValue : props.value\n  });\n\n  if (children) {\n    validateChildren(props, children); // We wrap children into a class component to be able to find\n    // their input element using findDOMNode\n\n    return React__default.createElement(InputMaskChildrenWrapper, inputProps, children);\n  }\n\n  return React__default.createElement(\"input\", inputProps);\n});\nInputMask.displayName = \"InputMask\";\nInputMask.defaultProps = {\n  alwaysShowMask: false,\n  maskPlaceholder: \"_\"\n};\nInputMask.propTypes = {\n  alwaysShowMask: PropTypes.bool,\n  beforeMaskedStateChange: PropTypes.func,\n  children: PropTypes.element,\n  mask: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]))]),\n  maskPlaceholder: PropTypes.string,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onMouseDown: PropTypes.func\n};\n\nmodule.exports = InputMask;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}