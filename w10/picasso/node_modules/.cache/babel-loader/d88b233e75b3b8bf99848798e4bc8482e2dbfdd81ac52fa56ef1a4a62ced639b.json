{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable max-lines */\nimport React, { forwardRef } from 'react';\nimport cx from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHasMultilineCounter } from '@toptal/picasso-shared';\nimport OutlinedInput from '../OutlinedInput';\nimport { disableUnsupportedProps } from '../utils';\nimport styles from './styles';\nimport { usePropDeprecationWarning } from '../utils/use-deprecation-warnings';\nimport InputLimitAdornment from '../InputLimitAdornment';\nimport InputIconAdornment from '../InputIconAdornment';\nimport Container from '../Container';\nimport InputValidIconAdornment from '../InputValidIconAdornment';\nconst useStyles = makeStyles(styles, {\n  name: 'PicassoInput'\n});\nconst hasRemainingCounter = _ref => {\n  let {\n    counter,\n    limit\n  } = _ref;\n  return Boolean(counter === 'remaining' && limit);\n};\nconst hasEnteredCounter = _ref2 => {\n  let {\n    counter\n  } = _ref2;\n  return counter === 'entered';\n};\nconst hasCounter = _ref3 => {\n  let {\n    counter,\n    limit\n  } = _ref3;\n  return hasRemainingCounter({\n    counter,\n    limit\n  }) || hasEnteredCounter({\n    counter\n  });\n};\nconst hasMultilineAdornment = _ref4 => {\n  let {\n    multiline,\n    status,\n    counter,\n    limit\n  } = _ref4;\n  return multiline && (status === 'success' || hasCounter({\n    counter,\n    limit\n  }));\n};\nconst StartAdornment = _ref5 => {\n  let {\n    icon,\n    iconPosition,\n    disabled\n  } = _ref5;\n  if (!icon || iconPosition !== 'start') {\n    return null;\n  }\n  return React.createElement(InputIconAdornment, {\n    disabled: disabled,\n    position: 'start',\n    icon: icon\n  });\n};\nconst EndAdornment = props => {\n  const {\n    icon,\n    iconPosition,\n    disabled,\n    limit,\n    multiline,\n    charsLength,\n    testIds,\n    counter,\n    showCounter\n  } = props;\n  if (icon && iconPosition === 'end') {\n    return React.createElement(InputIconAdornment, {\n      disabled: disabled,\n      position: 'end',\n      icon: icon\n    });\n  }\n  if (!multiline && showCounter) {\n    return React.createElement(InputLimitAdornment\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    , {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      charsLength: charsLength,\n      multiline: multiline,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      counter: counter,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      limit: limit,\n      testIds: testIds\n    });\n  }\n  return null;\n};\nconst MultilineAdornment = _ref6 => {\n  let {\n    charsLength,\n    counter,\n    limit,\n    showCounter,\n    status,\n    testIds\n  } = _ref6;\n  return React.createElement(Container, {\n    flex: true\n  }, showCounter && React.createElement(InputLimitAdornment, {\n    testIds: testIds,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    charsLength: charsLength,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    counter: counter,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    limit: limit,\n    multiline: true\n  }), status === 'success' && React.createElement(InputValidIconAdornment, {\n    \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.validIcon,\n    multiline: true\n  }));\n};\nconst purifyProps = props => {\n  const sizeOptions = {\n    featureProps: {\n      size: 'small'\n    },\n    unsupportedProps: {\n      multiline: false,\n      icon: undefined,\n      startAdornment: undefined,\n      endAdornment: undefined,\n      limit: undefined\n    }\n  };\n  return disableUnsupportedProps('Input', props, sizeOptions);\n};\nexport const Input = forwardRef(function Input(props, ref) {\n  const _a = purifyProps(props),\n    {\n      id,\n      name,\n      defaultValue,\n      value,\n      placeholder,\n      error,\n      status,\n      disabled,\n      icon,\n      iconPosition,\n      inputProps,\n      children,\n      multiline,\n      multilineResizable,\n      autoFocus,\n      width,\n      className,\n      style,\n      rows,\n      rowsMax,\n      type,\n      onChange,\n      onClick,\n      startAdornment,\n      endAdornment,\n      limit,\n      counter,\n      size,\n      enableReset,\n      onResetClick,\n      outlineRef,\n      testIds,\n      setHasMultilineCounter,\n      highlightAutofill\n    } = _a,\n    rest = __rest(_a, [\"id\", \"name\", \"defaultValue\", \"value\", \"placeholder\", \"error\", \"status\", \"disabled\", \"icon\", \"iconPosition\", \"inputProps\", \"children\", \"multiline\", \"multilineResizable\", \"autoFocus\", \"width\", \"className\", \"style\", \"rows\", \"rowsMax\", \"type\", \"onChange\", \"onClick\", \"startAdornment\", \"endAdornment\", \"limit\", \"counter\", \"size\", \"enableReset\", \"onResetClick\", \"outlineRef\", \"testIds\", \"setHasMultilineCounter\", \"highlightAutofill\"]);\n  usePropDeprecationWarning({\n    props,\n    name: 'error',\n    componentName: 'Input',\n    description: 'Use the `status` prop instead. `error` is deprecated and will be removed in the next major release.'\n  });\n  const charsLength = value ? value.length : 0;\n  const classes = useStyles();\n  const showCounter = !!charsLength && hasCounter({\n    counter,\n    limit\n  });\n  useHasMultilineCounter(name, showCounter && multiline, setHasMultilineCounter);\n  return React.createElement(React.Fragment, null, React.createElement(OutlinedInput, {\n    ref: outlineRef,\n    inputRef: ref,\n    className: className,\n    style: style,\n    classes: {\n      root: cx(classes.root, {\n        [classes.rootMultiline]: multiline,\n        [classes.highlightAutofill]: highlightAutofill\n      }),\n      input: cx(classes.input, {\n        [classes.inputMultilineResizable]: multiline && multilineResizable\n      })\n    },\n    id: id,\n    name: name,\n    defaultValue: defaultValue,\n    value: value,\n    placeholder: placeholder,\n    status: error ? 'error' : status,\n    disabled: disabled,\n    multiline: multiline,\n    autoFocus: autoFocus,\n    rows: rows,\n    rowsMax: rowsMax,\n    type: type,\n    width: width,\n    size: size,\n    onClick: onClick,\n    // html attributes\n    inputProps: Object.assign(Object.assign({}, rest), inputProps),\n    startAdornment: startAdornment || React.createElement(StartAdornment, {\n      icon: icon,\n      iconPosition: iconPosition,\n      disabled: disabled\n    }),\n    endAdornment: endAdornment || React.createElement(EndAdornment, {\n      icon: icon,\n      iconPosition: iconPosition,\n      disabled: disabled,\n      limit: limit,\n      charsLength: charsLength,\n      multiline: multiline,\n      counter: counter,\n      status: status,\n      testIds: testIds,\n      showCounter: showCounter\n    }),\n    onChange: onChange,\n    enableReset: enableReset,\n    onResetClick: onResetClick,\n    testIds: testIds\n  }, children), hasMultilineAdornment({\n    multiline,\n    status,\n    limit,\n    counter\n  }) && React.createElement(MultilineAdornment, {\n    charsLength: charsLength,\n    status: status,\n    testIds: testIds,\n    showCounter: showCounter,\n    counter: counter,\n    limit: limit\n  }));\n});\nInput.defaultProps = {\n  autoComplete: 'none',\n  counter: 'remaining',\n  iconPosition: 'start',\n  highlightAutofill: false,\n  multiline: false,\n  size: 'medium',\n  width: 'auto',\n  onChange: () => {},\n  onResetClick: () => {},\n  status: 'default'\n};\nInput.displayName = 'Input';\nexport default Input;","map":{"version":3,"names":["React","forwardRef","cx","makeStyles","useHasMultilineCounter","OutlinedInput","disableUnsupportedProps","styles","usePropDeprecationWarning","InputLimitAdornment","InputIconAdornment","Container","InputValidIconAdornment","useStyles","name","hasRemainingCounter","_ref","counter","limit","Boolean","hasEnteredCounter","_ref2","hasCounter","_ref3","hasMultilineAdornment","_ref4","multiline","status","StartAdornment","_ref5","icon","iconPosition","disabled","createElement","position","EndAdornment","props","charsLength","testIds","showCounter","MultilineAdornment","_ref6","flex","validIcon","purifyProps","sizeOptions","featureProps","size","unsupportedProps","undefined","startAdornment","endAdornment","Input","ref","_a","id","defaultValue","value","placeholder","error","inputProps","children","multilineResizable","autoFocus","width","className","style","rows","rowsMax","type","onChange","onClick","enableReset","onResetClick","outlineRef","setHasMultilineCounter","highlightAutofill","rest","__rest","componentName","description","length","classes","Fragment","inputRef","root","rootMultiline","input","inputMultilineResizable","Object","assign","defaultProps","autoComplete","displayName"],"sources":["../../src/Input/Input.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}