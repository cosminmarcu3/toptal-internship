{"ast":null,"code":"import { useCallback } from 'react';\nimport { flattenOptions, getNextWrappingIndex } from '../../../utils';\nconst useArrowsKeyDownHandler = _ref => {\n  let {\n    selectState: {\n      isOpen,\n      highlightedIndex,\n      filteredOptions,\n      setHighlightedIndex,\n      open\n    }\n  } = _ref;\n  return useCallback((key, event) => {\n    event.preventDefault();\n    if (isOpen) {\n      // Use only non-disabled options\n      const nonDisabledOptions = flattenOptions(filteredOptions).map((option, actualIndex) => Object.assign(Object.assign({}, option), {\n        actualIndex\n      })).filter(option => !option.disabled);\n      // Find the non-disabled index for highlightedIndex\n      const initialIndex = nonDisabledOptions.findIndex(option => option.actualIndex === highlightedIndex);\n      const moveAmount = key === 'ArrowDown' ? 1 : -1;\n      // Find the next wrapping non-disabled index\n      const nextNonDisabledIndex = getNextWrappingIndex(moveAmount, initialIndex, nonDisabledOptions.length);\n      // Convert non-disabled index to the actual one\n      const nextOption = nonDisabledOptions[nextNonDisabledIndex];\n      if (nextOption != null) {\n        setHighlightedIndex(nextOption.actualIndex);\n      }\n    } else {\n      open();\n    }\n  }, [isOpen, highlightedIndex, filteredOptions, setHighlightedIndex, open]);\n};\nexport default useArrowsKeyDownHandler;","map":{"version":3,"names":["useCallback","flattenOptions","getNextWrappingIndex","useArrowsKeyDownHandler","_ref","selectState","isOpen","highlightedIndex","filteredOptions","setHighlightedIndex","open","key","event","preventDefault","nonDisabledOptions","map","option","actualIndex","Object","assign","filter","disabled","initialIndex","findIndex","moveAmount","nextNonDisabledIndex","length","nextOption"],"sources":["../../../../../src/SelectBase/hooks/use-select-props/use-arrows-keydown-handler/use-arrows-keydown-handler.ts"],"sourcesContent":[null],"mappings":"AAAA,SAAwBA,WAAW,QAAQ,OAAO;AAElD,SAASC,cAAc,EAAEC,oBAAoB,QAAQ,gBAAgB;AAGrE,MAAMC,uBAAuB,GAAGC,IAAA;EAAA,IAG9B;IACAC,WAAW,EAAE;MACXC,MAAM;MACNC,gBAAgB;MAChBC,eAAe;MACfC,mBAAmB;MACnBC;IAAI;EACL,CACoB,GAAAN,IAAA;EAAA,OACrBJ,WAAW,CACT,CAACW,GAAW,EAAEC,KAAsC,KAAI;IACtDA,KAAK,CAACC,cAAc,EAAE;IAEtB,IAAIP,MAAM,EAAE;MACV;MACA,MAAMQ,kBAAkB,GAAGb,cAAc,CAACO,eAAe,CAAC,CACvDO,GAAG,CAAC,CAACC,MAAM,EAAEC,WAAW,KAAKC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMH,MAAM;QAAEC;MAAW,EAAG,CAAC,CAC1DG,MAAM,CAACJ,MAAM,IAAI,CAACA,MAAM,CAACK,QAAQ,CAAC;MAErC;MACA,MAAMC,YAAY,GAAGR,kBAAkB,CAACS,SAAS,CAC/CP,MAAM,IAAIA,MAAM,CAACC,WAAW,KAAKV,gBAAgB,CAClD;MACD,MAAMiB,UAAU,GAAGb,GAAG,KAAK,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;MAC/C;MACA,MAAMc,oBAAoB,GAAGvB,oBAAoB,CAC/CsB,UAAU,EACVF,YAAY,EACZR,kBAAkB,CAACY,MAAM,CAC1B;MACD;MACA,MAAMC,UAAU,GAAGb,kBAAkB,CAACW,oBAAoB,CAAC;MAE3D,IAAIE,UAAU,IAAI,IAAI,EAAE;QACtBlB,mBAAmB,CAACkB,UAAU,CAACV,WAAW,CAAC;;KAE9C,MAAM;MACLP,IAAI,EAAE;;EAEV,CAAC,EACD,CAACJ,MAAM,EAAEC,gBAAgB,EAAEC,eAAe,EAAEC,mBAAmB,EAAEC,IAAI,CAAC,CACvE;AAAA;AAEH,eAAeP,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}