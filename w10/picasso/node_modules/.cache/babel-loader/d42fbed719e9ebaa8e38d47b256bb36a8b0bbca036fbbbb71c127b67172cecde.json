{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport cx from 'classnames';\nimport { ArrowDownMinor24, ArrowDownMinor16 } from '../Icon';\nimport Button from '../Button';\nimport ButtonGroup from '../ButtonGroup';\nimport Dropdown from '../Dropdown';\nimport styles from './styles';\n// Using { index: -1 } to inject CSS link to the bottom of the head\n// in order to prevent Button's styles to override ButtonSplit's ones\n// Related Jira issue: https://toptal-core.atlassian.net/browse/FX-1520\nconst useStyles = makeStyles(styles, {\n  name: 'PicassoButtonSplit',\n  index: -1\n});\nconst DropdownIcon = _ref => {\n  let {\n    size,\n    className\n  } = _ref;\n  if (size === 'large') {\n    return React.createElement(ArrowDownMinor24, {\n      className: className\n    });\n  }\n  return React.createElement(ArrowDownMinor16, {\n    className: className\n  });\n};\nconst EventStopPropagation = _ref2 => {\n  let {\n    children\n  } = _ref2;\n  const handleClick = event => {\n    event.stopPropagation();\n  };\n  return React.createElement(\"span\", {\n    onClick: handleClick\n  }, children);\n};\nexport const ButtonSplit = forwardRef(function ButtonSplit(props, ref) {\n  const {\n      size = 'medium',\n      menu,\n      children,\n      variant = 'primary',\n      disabled,\n      style,\n      className,\n      onClick,\n      menuButtonProps,\n      actionButtonProps,\n      testIds = {}\n    } = props,\n    rest = __rest(props, [\"size\", \"menu\", \"children\", \"variant\", \"disabled\", \"style\", \"className\", \"onClick\", \"menuButtonProps\", \"actionButtonProps\", \"testIds\"]);\n  const classes = useStyles();\n  const commonClasses = cx(classes.button, {\n    [classes.primaryVariant]: variant === 'primary',\n    [classes.disabled]: disabled\n  });\n  const renderMenuButton = _ref3 => {\n    let {\n      isOpen,\n      disabled\n    } = _ref3;\n    const menuButton = React.createElement(Button, Object.assign({}, menuButtonProps, {\n      variant: variant,\n      className: `${commonClasses} ${classes.menuButton} ${classes[`${size}Size`]}`,\n      size: size,\n      disabled: disabled,\n      \"data-testid\": testIds.menuButton\n    }), React.createElement(DropdownIcon, {\n      className: cx({\n        [classes.rotated]: isOpen\n      }),\n      size: size\n    }));\n    return disabled ? React.createElement(EventStopPropagation, null, menuButton) : menuButton;\n  };\n  return React.createElement(ButtonGroup, Object.assign({}, rest, {\n    ref: ref,\n    style: style,\n    className: className\n  }), React.createElement(Button, Object.assign({}, actionButtonProps, {\n    className: `${commonClasses} ${classes.actionButton}`,\n    size: size,\n    variant: variant,\n    disabled: disabled,\n    onClick: onClick,\n    \"data-testid\": testIds.actionButton\n  }), children), React.createElement(Dropdown, {\n    content: menu,\n    className: cx(classes.dropdown, {\n      [classes.disabled]: disabled\n    })\n  }, _ref4 => {\n    let {\n      isOpen\n    } = _ref4;\n    return renderMenuButton({\n      isOpen,\n      disabled\n    });\n  }));\n});\nButtonSplit.defaultProps = {\n  size: 'medium',\n  variant: 'primary'\n};\nButtonSplit.displayName = 'ButtonSplit';\nexport default ButtonSplit;","map":{"version":3,"names":["React","forwardRef","makeStyles","cx","ArrowDownMinor24","ArrowDownMinor16","Button","ButtonGroup","Dropdown","styles","useStyles","name","index","DropdownIcon","_ref","size","className","createElement","EventStopPropagation","_ref2","children","handleClick","event","stopPropagation","onClick","ButtonSplit","props","ref","menu","variant","disabled","style","menuButtonProps","actionButtonProps","testIds","rest","__rest","classes","commonClasses","button","primaryVariant","renderMenuButton","_ref3","isOpen","menuButton","Object","assign","rotated","actionButton","content","dropdown","_ref4","defaultProps","displayName"],"sources":["../../src/ButtonSplit/ButtonSplit.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}