{"ast":null,"code":"import React, { forwardRef, useMemo, useRef, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from '../../utils';\nimport { NodeContent } from './NodeContent';\nexport const PointNode = forwardRef((_ref, ref) => {\n  let {\n    node,\n    renderNode\n  } = _ref;\n  const nodeRef = useRef(null);\n  const [dimensions, setDimensions] = useState({});\n  const transform = useMemo(() => {\n    return `translate(${node.x},${node.y})`;\n  }, [node.x, node.y]);\n  useIsomorphicLayoutEffect(() => {\n    var _a, _b, _c;\n    if (nodeRef.current) {\n      const {\n        offsetWidth: width,\n        offsetHeight: height\n      } = (_c = (_b = (_a = node.ref) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.firstElementChild) === null || _c === void 0 ? void 0 : _c.firstElementChild;\n      if (dimensions.height !== height || dimensions.width !== width) {\n        setDimensions({\n          width,\n          height\n        });\n      }\n    }\n  }, [dimensions, node.ref]);\n  return React.createElement(\"g\", {\n    id: node.id,\n    transform: transform,\n    ref: ref\n  }, React.createElement(\"foreignObject\", {\n    width: dimensions.width,\n    height: dimensions.height,\n    ref: nodeRef\n  }, renderNode ? renderNode(node) : React.createElement(NodeContent, {\n    node: node\n  })));\n});\nPointNode.displayName = 'Node';\nexport default PointNode;","map":{"version":3,"names":["React","forwardRef","useMemo","useRef","useState","useIsomorphicLayoutEffect","NodeContent","PointNode","_ref","ref","node","renderNode","nodeRef","dimensions","setDimensions","transform","x","y","current","offsetWidth","width","offsetHeight","height","_c","_b","_a","firstElementChild","createElement","id","displayName"],"sources":["../../../src/TreeView/PointNode/PointNode.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAaC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAE/E,SAASC,yBAAyB,QAAQ,aAAa;AAEvD,SAASC,WAAW,QAAQ,eAAe;AAO3C,OAAO,MAAMC,SAAS,GAAGN,UAAU,CACjC,CAAAO,IAAA,EAAuBC,GAAG,KAAI;EAAA,IAA7B;IAAEC,IAAI;IAAEC;EAAU,CAAE,GAAAH,IAAA;EACnB,MAAMI,OAAO,GAAGT,MAAM,CAAiC,IAAI,CAAC;EAC5D,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAGzC,EAAE,CAAC;EACN,MAAMW,SAAS,GAAGb,OAAO,CAAC,MAAK;IAC7B,OAAO,aAAaQ,IAAI,CAACM,CAAC,IAAIN,IAAI,CAACO,CAAC,GAAG;EACzC,CAAC,EAAE,CAACP,IAAI,CAACM,CAAC,EAAEN,IAAI,CAACO,CAAC,CAAC,CAAC;EAEpBZ,yBAAyB,CAAC,MAAK;;IAC7B,IAAIO,OAAO,CAACM,OAAO,EAAE;MACnB,MAAM;QAAEC,WAAW,EAAEC,KAAK;QAAEC,YAAY,EAAEC;MAAM,CAAE,GAAG,CAAAC,EAAA,IAAAC,EAAA,IAAAC,EAAA,GAAAf,IAAI,CAACD,GAAG,cAAAgB,EAAA,uBAAAA,EAAA,CAAEP,OAAO,cAAAM,EAAA,uBAAAA,EAAA,CAClEE,iBAAiB,cAAAH,EAAA,uBAAAA,EAAA,CAAEG,iBAAgC;MAEvD,IAAIb,UAAU,CAACS,MAAM,KAAKA,MAAM,IAAIT,UAAU,CAACO,KAAK,KAAKA,KAAK,EAAE;QAC9DN,aAAa,CAAC;UACZM,KAAK;UACLE;SACD,CAAC;;;EAGR,CAAC,EAAE,CAACT,UAAU,EAAEH,IAAI,CAACD,GAAG,CAAC,CAAC;EAE1B,OACET,KAAA,CAAA2B,aAAA;IAAGC,EAAE,EAAElB,IAAI,CAACkB,EAAE;IAAEb,SAAS,EAAEA,SAAS;IAAEN,GAAG,EAAEA;EAAG,GAC5CT,KAAA,CAAA2B,aAAA;IACEP,KAAK,EAAEP,UAAU,CAACO,KAAK;IACvBE,MAAM,EAAET,UAAU,CAACS,MAAM;IACzBb,GAAG,EAAEG;EAAO,GAEXD,UAAU,GAAGA,UAAU,CAACD,IAAI,CAAC,GAAGV,KAAA,CAAA2B,aAAA,CAACrB,WAAW;IAACI,IAAI,EAAEA;EAAI,EAAI,CAC9C,CACd;AAER,CAAC,CACF;AAEDH,SAAS,CAACsB,WAAW,GAAG,MAAM;AAE9B,eAAetB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}