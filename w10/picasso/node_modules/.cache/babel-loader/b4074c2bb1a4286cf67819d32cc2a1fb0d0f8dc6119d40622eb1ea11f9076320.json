{"ast":null,"code":"import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport cx from 'classnames';\nimport { InputAdornment } from '@material-ui/core';\nimport styles from './styles';\nimport InputMultilineAdornment from '../InputMultilineAdornment';\nconst useStyles = makeStyles(styles, {\n  name: 'PicassoInputLimitAdornment'\n});\nconst hasRemainingCounter = counter => counter === 'remaining';\nconst formatCharacters = count => count === 1 ? 'character' : 'characters';\nconst getCharsTillLimit = (charsLength, counter, limit) => hasRemainingCounter(counter) ? limit - charsLength : charsLength;\nconst getMultilineLabel = _ref => {\n  let {\n    multiline,\n    charsTillLimit,\n    counter\n  } = _ref;\n  if (!multiline) {\n    return null;\n  }\n  if (hasRemainingCounter(counter)) {\n    return charsTillLimit >= 0 ? `${formatCharacters(charsTillLimit)} left` : 'over the limit';\n  }\n  return `${formatCharacters(charsTillLimit)} entered`;\n};\nconst InputLimitAdornment = props => {\n  const classes = useStyles();\n  const {\n    multiline,\n    charsLength,\n    counter,\n    limit,\n    testIds\n  } = props;\n  const charsTillLimit = getCharsTillLimit(charsLength, counter, limit);\n  const multilineLabel = getMultilineLabel({\n    multiline,\n    charsTillLimit,\n    counter\n  });\n  const error = charsTillLimit <= 0;\n  if (multiline) {\n    return React.createElement(InputMultilineAdornment, {\n      \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.inputAdornment,\n      error: error\n    }, React.createElement(\"span\", {\n      \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.message\n    }, React.createElement(\"span\", {\n      translate: 'no'\n    }, Math.abs(charsTillLimit)), ' ', React.createElement(\"span\", null, multilineLabel)));\n  }\n  return React.createElement(InputAdornment, {\n    \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.inputAdornment,\n    position: 'end',\n    disablePointerEvents: true,\n    className: cx(classes.limiterLabel, {\n      [classes.limiterLabelError]: error\n    })\n  }, React.createElement(\"span\", {\n    \"data-testid\": testIds === null || testIds === void 0 ? void 0 : testIds.message\n  }, React.createElement(\"span\", {\n    translate: 'no'\n  }, charsTillLimit), ' ', React.createElement(\"span\", null, multilineLabel)));\n};\nexport default InputLimitAdornment;","map":{"version":3,"names":["React","makeStyles","cx","InputAdornment","styles","InputMultilineAdornment","useStyles","name","hasRemainingCounter","counter","formatCharacters","count","getCharsTillLimit","charsLength","limit","getMultilineLabel","_ref","multiline","charsTillLimit","InputLimitAdornment","props","classes","testIds","multilineLabel","error","createElement","inputAdornment","message","translate","Math","abs","position","disablePointerEvents","className","limiterLabel","limiterLabelError"],"sources":["../../src/InputLimitAdornment/InputLimitAdornment.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAe,0BAA0B;AAC5D,OAAOC,EAAE,MAAM,YAAY;AAC3B,SAASC,cAAc,QAAQ,mBAAmB;AAElD,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,uBAAuB,MAAM,4BAA4B;AAehE,MAAMC,SAAS,GAAGL,UAAU,CAAQG,MAAM,EAAE;EAC1CG,IAAI,EAAE;CACP,CAAC;AAEF,MAAMC,mBAAmB,GAAIC,OAAoB,IAAKA,OAAO,KAAK,WAAW;AAC7E,MAAMC,gBAAgB,GAAIC,KAAa,IACrCA,KAAK,KAAK,CAAC,GAAG,WAAW,GAAG,YAAY;AAE1C,MAAMC,iBAAiB,GAAGA,CACxBC,WAAmB,EACnBJ,OAAoB,EACpBK,KAAa,KACTN,mBAAmB,CAACC,OAAO,CAAC,GAAGK,KAAK,GAAGD,WAAW,GAAGA,WAAY;AAEvE,MAAME,iBAAiB,GAAGC,IAAA,IAMrB;EAAA,IANsB;IACzBC,SAAS;IACTC,cAAc;IACdT;EAAO,CAGR,GAAAO,IAAA;EACC,IAAI,CAACC,SAAS,EAAE;IACd,OAAO,IAAI;;EAGb,IAAIT,mBAAmB,CAACC,OAAO,CAAC,EAAE;IAChC,OAAOS,cAAc,IAAI,CAAC,GACtB,GAAGR,gBAAgB,CAACQ,cAAc,CAAC,OAAO,GAC1C,gBAAgB;;EAGtB,OAAO,GAAGR,gBAAgB,CAACQ,cAAc,CAAC,UAAU;AACtD,CAAC;AAED,MAAMC,mBAAmB,GAAIC,KAAY,IAAI;EAC3C,MAAMC,OAAO,GAAGf,SAAS,EAAE;EAC3B,MAAM;IAAEW,SAAS;IAAEJ,WAAW;IAAEJ,OAAO;IAAEK,KAAK;IAAEQ;EAAO,CAAE,GAAGF,KAAK;EAEjE,MAAMF,cAAc,GAAGN,iBAAiB,CAACC,WAAW,EAAEJ,OAAO,EAAEK,KAAK,CAAC;EACrE,MAAMS,cAAc,GAAGR,iBAAiB,CAAC;IACvCE,SAAS;IACTC,cAAc;IACdT;GACD,CAAC;EACF,MAAMe,KAAK,GAAGN,cAAc,IAAI,CAAC;EAEjC,IAAID,SAAS,EAAE;IACb,OACEjB,KAAA,CAAAyB,aAAA,CAACpB,uBAAuB;MAAA,eACTiB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEI,cAAc;MACpCF,KAAK,EAAEA;IAAK,GAEZxB,KAAA,CAAAyB,aAAA;MAAA,eAAmBH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEK;IAAO,GACjC3B,KAAA,CAAAyB,aAAA;MAAMG,SAAS,EAAC;IAAI,GAAEC,IAAI,CAACC,GAAG,CAACZ,cAAc,CAAC,CAAQ,EAAC,GAAG,EAC1DlB,KAAA,CAAAyB,aAAA,eAAOF,cAAc,CAAQ,CACxB,CACiB;;EAI9B,OACEvB,KAAA,CAAAyB,aAAA,CAACtB,cAAc;IAAA,eACAmB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEI,cAAc;IACpCK,QAAQ,EAAC,KAAK;IACdC,oBAAoB;IACpBC,SAAS,EAAE/B,EAAE,CAACmB,OAAO,CAACa,YAAY,EAAE;MAClC,CAACb,OAAO,CAACc,iBAAiB,GAAGX;KAC9B;EAAC,GAEFxB,KAAA,CAAAyB,aAAA;IAAA,eAAmBH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEK;EAAO,GACjC3B,KAAA,CAAAyB,aAAA;IAAMG,SAAS,EAAC;EAAI,GAAEV,cAAc,CAAQ,EAAC,GAAG,EAChDlB,KAAA,CAAAyB,aAAA,eAAOF,cAAc,CAAQ,CACxB,CACQ;AAErB,CAAC;AAED,eAAeJ,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}