{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { makeStyles } from '@material-ui/core/styles';\nimport cx from 'classnames';\nimport React, { forwardRef, useCallback, useEffect } from 'react';\nimport Menu from '../Menu';\nimport { useSidebarContext } from '../PageSidebar/SidebarContextProvider';\nimport { useSubMenuContext } from '../SidebarItem';\nimport styles from './styles';\nconst useStyles = makeStyles(styles, {\n  name: 'PicassoSidebarMenu'\n});\nexport const SidebarMenu = forwardRef(function SidebarMenu(props, ref) {\n  const {\n      bottom,\n      style,\n      className,\n      children\n    } = props,\n    rest = __rest(props, [\"bottom\", \"style\", \"className\", \"children\"]);\n  const {\n    parentSidebarItemIndex,\n    isSubMenu,\n    parentMenu\n  } = useSubMenuContext();\n  const classes = useStyles();\n  const {\n    variant,\n    expandedItemKey,\n    setExpandedItemKey,\n    isCollapsed: isSidebarCollapsed\n  } = useSidebarContext();\n  const expandSidebarItem = useCallback(setExpandedItemKey, [setExpandedItemKey]);\n  useEffect(() => {\n    const hasSelectedItem = React.Children.toArray(children).some(child => React.isValidElement(child) && child.props.selected);\n    if (hasSelectedItem && parentSidebarItemIndex !== undefined) {\n      setExpandedItemKey(parentSidebarItemIndex);\n    }\n  }, [parentSidebarItemIndex, setExpandedItemKey, children]);\n  const items = React.Children.map(children, (child, index) => {\n    if (React.isValidElement(child)) {\n      const itemProps = {\n        variant,\n        isSubMenu,\n        compact: isSidebarCollapsed && !isSubMenu\n      };\n      const expandibleProps = {\n        index,\n        expand: expandSidebarItem,\n        isExpanded: expandedItemKey === index\n      };\n      const newProps = Object.assign(Object.assign({}, itemProps), child.props.collapsible ? expandibleProps : {});\n      return React.cloneElement(child, newProps);\n    }\n    return child;\n  });\n  return React.createElement(Menu, Object.assign({}, rest, {\n    allowNestedNavigation: false,\n    ref: ref,\n    style: style,\n    className: cx(classes.root, {\n      [classes.bottom]: bottom,\n      [classes.compactParent]: parentMenu === null || parentMenu === void 0 ? void 0 : parentMenu.compact\n    }, className)\n  }), items);\n});\nSidebarMenu.defaultProps = {\n  bottom: false\n};\nSidebarMenu.displayName = 'SidebarMenu';\nexport default SidebarMenu;","map":{"version":3,"names":["makeStyles","cx","React","forwardRef","useCallback","useEffect","Menu","useSidebarContext","useSubMenuContext","styles","useStyles","name","SidebarMenu","props","ref","bottom","style","className","children","rest","__rest","parentSidebarItemIndex","isSubMenu","parentMenu","classes","variant","expandedItemKey","setExpandedItemKey","isCollapsed","isSidebarCollapsed","expandSidebarItem","hasSelectedItem","Children","toArray","some","child","isValidElement","selected","undefined","items","map","index","itemProps","compact","expandibleProps","expand","isExpanded","newProps","Object","assign","collapsible","cloneElement","createElement","allowNestedNavigation","root","compactParent","defaultProps","displayName"],"sources":["../../src/SidebarMenu/SidebarMenu.tsx"],"sourcesContent":[null],"mappings":";;;;;;;;AAAA,SAASA,UAAU,QAAe,0BAA0B;AAE5D,OAAOC,EAAE,MAAM,YAAY;AAC3B,OAAOC,KAAK,IACVC,UAAU,EAEVC,WAAW,EACXC,SAAS,QACJ,OAAO;AAEd,OAAOC,IAAI,MAAM,SAAS;AAC1B,SAASC,iBAAiB,QAAQ,uCAAuC;AACzE,SAA2BC,iBAAiB,QAAQ,gBAAgB;AACpE,OAAOC,MAAM,MAAM,UAAU;AAO7B,MAAMC,SAAS,GAAGV,UAAU,CAAQS,MAAM,EAAE;EAC1CE,IAAI,EAAE;CACP,CAAC;AAEF,OAAO,MAAMC,WAAW,GAAGT,UAAU,CACnC,SAASS,WAAWA,CAACC,KAAK,EAAEC,GAAG;EAC7B,MAAM;MAAEC,MAAM;MAAEC,KAAK;MAAEC,SAAS;MAAEC;IAAQ,IAAcL,KAAK;IAAdM,IAAI,GAAAC,MAAA,CAAKP,KAAK,EAAvD,4CAA+C,CAAQ;EAC7D,MAAM;IAAEQ,sBAAsB;IAAEC,SAAS;IAAEC;EAAU,CAAE,GACrDf,iBAAiB,EAAE;EAErB,MAAMgB,OAAO,GAAGd,SAAS,EAAE;EAE3B,MAAM;IACJe,OAAO;IACPC,eAAe;IACfC,kBAAkB;IAClBC,WAAW,EAAEC;EAAkB,CAChC,GAAGtB,iBAAiB,EAAE;EAEvB,MAAMuB,iBAAiB,GAAG1B,WAAW,CAACuB,kBAAkB,EAAE,CACxDA,kBAAkB,CACnB,CAAC;EAEFtB,SAAS,CAAC,MAAK;IACb,MAAM0B,eAAe,GAAG7B,KAAK,CAAC8B,QAAQ,CAACC,OAAO,CAACf,QAAQ,CAAC,CAACgB,IAAI,CAC3DC,KAAK,IAAIjC,KAAK,CAACkC,cAAc,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACtB,KAAK,CAACwB,QAAQ,CAC7D;IAED,IAAIN,eAAe,IAAIV,sBAAsB,KAAKiB,SAAS,EAAE;MAC3DX,kBAAkB,CAACN,sBAAsB,CAAC;;EAE9C,CAAC,EAAE,CAACA,sBAAsB,EAAEM,kBAAkB,EAAET,QAAQ,CAAC,CAAC;EAE1D,MAAMqB,KAAK,GAAGrC,KAAK,CAAC8B,QAAQ,CAACQ,GAAG,CAACtB,QAAQ,EAAE,CAACiB,KAAK,EAAEM,KAAK,KAAI;IAC1D,IAAIvC,KAAK,CAACkC,cAAc,CAACD,KAAK,CAAC,EAAE;MAC/B,MAAMO,SAAS,GAA8B;QAC3CjB,OAAO;QACPH,SAAS;QACTqB,OAAO,EAAEd,kBAAkB,IAAI,CAACP;OACjC;MAED,MAAMsB,eAAe,GAA8B;QACjDH,KAAK;QACLI,MAAM,EAAEf,iBAAiB;QACzBgB,UAAU,EAAEpB,eAAe,KAAKe;OACjC;MAED,MAAMM,QAAQ,GAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACTP,SAAS,GACRP,KAAK,CAACtB,KAAK,CAACqC,WAAW,GAAGN,eAAe,GAAG,EAAE,CACnD;MAED,OAAO1C,KAAK,CAACiD,YAAY,CAAChB,KAAK,EAAEY,QAAQ,CAAC;;IAG5C,OAAOZ,KAAK;EACd,CAAC,CAAC;EAEF,OACEjC,KAAA,CAAAkD,aAAA,CAAC9C,IAAI,EAAA0C,MAAA,CAAAC,MAAA,KACC9B,IAAI;IACRkC,qBAAqB,EAAE,KAAK;IAC5BvC,GAAG,EAAEA,GAAG;IACRE,KAAK,EAAEA,KAAK;IACZC,SAAS,EAAEhB,EAAE,CACXuB,OAAO,CAAC8B,IAAI,EACZ;MACE,CAAC9B,OAAO,CAACT,MAAM,GAAGA,MAAM;MACxB,CAACS,OAAO,CAAC+B,aAAa,GAAGhC,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEoB;KACtC,EACD1B,SAAS;EACV,IAEAsB,KAAK,CACD;AAEX,CAAC,CACF;AAED3B,WAAW,CAAC4C,YAAY,GAAG;EACzBzC,MAAM,EAAE;CACT;AAEDH,WAAW,CAAC6C,WAAW,GAAG,aAAa;AAEvC,eAAe7C,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}