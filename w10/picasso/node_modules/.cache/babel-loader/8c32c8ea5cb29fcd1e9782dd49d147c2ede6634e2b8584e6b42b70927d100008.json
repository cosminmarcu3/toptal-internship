{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { isBrowser } from '@toptal/picasso-shared';\nimport { ButtonBase } from '@material-ui/core';\nimport cx from 'classnames';\nimport InputAdornment from '../InputAdornment';\nimport Container from '../Container';\nimport { ArrowDownMinor16, ArrowUpMinor16, ArrowDownMinor24, ArrowUpMinor24 } from '../Icon';\nimport styles from './styles';\nconst useStyles = makeStyles(styles, {\n  name: 'NumberInputEndAdornment'\n});\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nconst nativeInputValueSetter = isBrowser() ? Object.getOwnPropertyDescriptor(\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nwindow.HTMLInputElement.prototype, 'value').set : undefined;\nexport const NumberInputEndAdornment = props => {\n  const {\n    step = 1,\n    min = -Infinity,\n    max = Infinity,\n    value,\n    disabled,\n    size = 'medium',\n    inputRef\n  } = props;\n  const classes = useStyles(props);\n  const normalizedStep = Number(step);\n  const normalizedValue = Number(value);\n  const normalizedMin = Number(min);\n  const normalizedMax = Number(max);\n  const fireEvent = nextValue => {\n    if (!nativeInputValueSetter) {\n      return;\n    }\n    const input = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current;\n    nativeInputValueSetter.call(input, nextValue);\n    const event = new Event('input', {\n      bubbles: true,\n      cancelable: true\n    });\n    if (input) {\n      input.dispatchEvent(event);\n    }\n  };\n  const handleUpClick = () => {\n    if (typeof value === 'undefined') {\n      return;\n    }\n    let nextValue = normalizedValue + normalizedStep;\n    if (nextValue <= max) {\n      if (normalizedValue < normalizedMin + normalizedStep) {\n        nextValue = normalizedMin + normalizedStep;\n      }\n      fireEvent(nextValue);\n    } else if (normalizedValue !== normalizedMax) {\n      nextValue = normalizedMax;\n      fireEvent(nextValue);\n    }\n  };\n  const handleDownClick = () => {\n    if (typeof value === 'undefined') {\n      return;\n    }\n    let nextValue = normalizedValue - normalizedStep;\n    if (nextValue >= min) {\n      if (normalizedValue > normalizedMax - normalizedStep) {\n        nextValue = normalizedMax - normalizedStep;\n      }\n      fireEvent(nextValue);\n    } else if (normalizedValue !== normalizedMin) {\n      nextValue = normalizedMin;\n      fireEvent(nextValue);\n    }\n  };\n  const rootClassName = cx({\n    [classes.disabled]: disabled\n  }, classes[size], classes.root);\n  return React.createElement(InputAdornment, {\n    position: 'end'\n  }, React.createElement(Container, {\n    flex: true,\n    direction: 'column',\n    inline: true\n  }, React.createElement(ButtonBase, {\n    disabled: disabled,\n    classes: {\n      root: rootClassName\n    },\n    onClick: handleUpClick\n  }, size === 'large' ? React.createElement(ArrowUpMinor24, null) : React.createElement(ArrowUpMinor16, null)), React.createElement(ButtonBase, {\n    disabled: disabled,\n    classes: {\n      root: rootClassName\n    },\n    onClick: handleDownClick\n  }, size === 'large' ? React.createElement(ArrowDownMinor24, null) : React.createElement(ArrowDownMinor16, null))));\n};\nNumberInputEndAdornment.defaultProps = {\n  min: -Infinity,\n  max: Infinity,\n  value: 0,\n  step: 1,\n  disabled: false,\n  size: 'medium'\n};\nNumberInputEndAdornment.displayName = 'NumberInputEndAdornment';\nexport default NumberInputEndAdornment;","map":{"version":3,"names":["React","makeStyles","isBrowser","ButtonBase","cx","InputAdornment","Container","ArrowDownMinor16","ArrowUpMinor16","ArrowDownMinor24","ArrowUpMinor24","styles","useStyles","name","nativeInputValueSetter","Object","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","undefined","NumberInputEndAdornment","props","step","min","Infinity","max","value","disabled","size","inputRef","classes","normalizedStep","Number","normalizedValue","normalizedMin","normalizedMax","fireEvent","nextValue","input","current","call","event","Event","bubbles","cancelable","dispatchEvent","handleUpClick","handleDownClick","rootClassName","root","createElement","position","flex","direction","inline","onClick","defaultProps","displayName"],"sources":["../../src/NumberInputEndAdornment/NumberInputEndAdornment.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}