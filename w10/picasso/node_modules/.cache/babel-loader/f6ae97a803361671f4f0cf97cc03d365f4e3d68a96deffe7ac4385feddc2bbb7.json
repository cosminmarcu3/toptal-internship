{"ast":null,"code":"import React, { createContext, useCallback, useContext, useMemo, useState } from 'react';\nimport { noop } from '../utils';\nconst SliderContext = createContext({\n  registerValueLabel: noop,\n  hasTooltipOverlow: false\n});\nconst SliderContextProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const [valueLabels, setValueLabels] = useState([null, null]);\n  const [hasTooltipOverlow, setHasTooltipOverflow] = useState(false);\n  const checkTooltipsOverlap = useCallback(() => {\n    if (valueLabels[0] && valueLabels[1]) {\n      const minDistance = (valueLabels[0].tooltipWidth + valueLabels[1].tooltipWidth) / 2;\n      const distance = valueLabels[1].thumb.offsetLeft - valueLabels[0].thumb.offsetLeft;\n      setHasTooltipOverflow(distance < minDistance && distance !== 0);\n    }\n  }, [valueLabels]);\n  const registerValueLabel = useCallback((index, tooltip, thumb) => {\n    if (!valueLabels[index]) {\n      const newTooltips = [...valueLabels];\n      newTooltips[index] = {\n        thumb,\n        tooltipWidth: tooltip.offsetWidth\n      };\n      setValueLabels(newTooltips);\n    } else {\n      checkTooltipsOverlap();\n    }\n  }, [valueLabels, checkTooltipsOverlap]);\n  const contextValue = useMemo(() => ({\n    registerValueLabel,\n    hasTooltipOverlow\n  }), [registerValueLabel, hasTooltipOverlow]);\n  return React.createElement(SliderContext.Provider, {\n    value: contextValue\n  }, children);\n};\nconst useSliderContext = () => useContext(SliderContext);\nexport { SliderContextProvider, useSliderContext };","map":{"version":3,"names":["React","createContext","useCallback","useContext","useMemo","useState","noop","SliderContext","registerValueLabel","hasTooltipOverlow","SliderContextProvider","_ref","children","valueLabels","setValueLabels","setHasTooltipOverflow","checkTooltipsOverlap","minDistance","tooltipWidth","distance","thumb","offsetLeft","index","tooltip","newTooltips","offsetWidth","contextValue","createElement","Provider","value","useSliderContext"],"sources":["../../src/Slider/SliderContext.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IACVC,aAAa,EAEbC,WAAW,EACXC,UAAU,EACVC,OAAO,EACPC,QAAQ,QACH,OAAO;AAEd,SAASC,IAAI,QAAQ,UAAU;AAE/B,MAAMC,aAAa,GAAGN,aAAa,CAOhC;EACDO,kBAAkB,EAAEF,IAAI;EACxBG,iBAAiB,EAAE;CACpB,CAAC;AAQF,MAAMC,qBAAqB,GAAGC,IAAA,IAAgC;EAAA,IAA/B;IAAEC;EAAQ,CAAiB,GAAAD,IAAA;EACxD,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAwB,CACpE,IAAI,EACJ,IAAI,CACL,CAAC;EACF,MAAM,CAACI,iBAAiB,EAAEM,qBAAqB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAElE,MAAMW,oBAAoB,GAAGd,WAAW,CAAC,MAAK;IAC5C,IAAIW,WAAW,CAAC,CAAC,CAAC,IAAIA,WAAW,CAAC,CAAC,CAAC,EAAE;MACpC,MAAMI,WAAW,GACf,CAACJ,WAAW,CAAC,CAAC,CAAC,CAACK,YAAY,GAAGL,WAAW,CAAC,CAAC,CAAC,CAACK,YAAY,IAAI,CAAC;MAEjE,MAAMC,QAAQ,GACZN,WAAW,CAAC,CAAC,CAAC,CAACO,KAAK,CAACC,UAAU,GAAGR,WAAW,CAAC,CAAC,CAAC,CAACO,KAAK,CAACC,UAAU;MAEnEN,qBAAqB,CAACI,QAAQ,GAAGF,WAAW,IAAIE,QAAQ,KAAK,CAAC,CAAC;;EAEnE,CAAC,EAAE,CAACN,WAAW,CAAC,CAAC;EAEjB,MAAML,kBAAkB,GAAGN,WAAW,CACpC,CAACoB,KAAa,EAAEC,OAAuB,EAAEH,KAAkB,KAAI;IAC7D,IAAI,CAACP,WAAW,CAACS,KAAK,CAAC,EAAE;MACvB,MAAME,WAAW,GAAG,CAAC,GAAGX,WAAW,CAAC;MAEpCW,WAAW,CAACF,KAAK,CAAC,GAAG;QAAEF,KAAK;QAAEF,YAAY,EAAEK,OAAO,CAACE;MAAW,CAAE;MAEjEX,cAAc,CAACU,WAAW,CAAC;KAC5B,MAAM;MACLR,oBAAoB,EAAE;;EAE1B,CAAC,EACD,CAACH,WAAW,EAAEG,oBAAoB,CAAC,CACpC;EAED,MAAMU,YAAY,GAAGtB,OAAO,CAC1B,OAAO;IACLI,kBAAkB;IAClBC;GACD,CAAC,EACF,CAACD,kBAAkB,EAAEC,iBAAiB,CAAC,CACxC;EAED,OACET,KAAA,CAAA2B,aAAA,CAACpB,aAAa,CAACqB,QAAQ;IAACC,KAAK,EAAEH;EAAY,GACxCd,QAAQ,CACc;AAE7B,CAAC;AAED,MAAMkB,gBAAgB,GAAGA,CAAA,KAAM3B,UAAU,CAACI,aAAa,CAAC;AAExD,SAASG,qBAAqB,EAAEoB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}