{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport toH from 'hast-to-hyperscript';\nimport React, { useMemo, createElement, isValidElement } from 'react';\nimport Typography from '../../../Typography';\nimport Container from '../../../Container';\nimport List from '../../../List';\nimport ListItem from '../../../ListItem';\nimport Link from '../../../Link';\n// List internaly passes another props to ListItem\nconst Li = _a => {\n  var {\n      children\n    } = _a,\n    props = __rest(_a, [\"children\"]);\n  return React.createElement(ListItem, Object.assign({}, props), children);\n};\n/* eslint-disable id-length */\nconst P = _ref => {\n  let {\n    children\n  } = _ref;\n  return React.createElement(Typography, {\n    size: 'small'\n  }, children);\n};\nconst Strong = _ref2 => {\n  let {\n    children\n  } = _ref2;\n  return React.createElement(Typography, {\n    size: 'small',\n    as: 'strong',\n    weight: 'semibold'\n  }, children);\n};\nconst Em = _ref3 => {\n  let {\n    children\n  } = _ref3;\n  return React.createElement(Typography, {\n    size: 'small',\n    as: 'em'\n  }, children);\n};\nconst H3 = _ref4 => {\n  let {\n    children\n  } = _ref4;\n  return React.createElement(Container, {\n    top: 'xsmall'\n  }, React.createElement(Typography, {\n    as: 'h3',\n    variant: 'heading',\n    size: 'medium'\n  }, children));\n};\nconst Ul = _ref5 => {\n  let {\n    children\n  } = _ref5;\n  return React.createElement(List, {\n    variant: 'unordered'\n  }, children);\n};\nconst Ol = _ref6 => {\n  let {\n    children\n  } = _ref6;\n  return React.createElement(List, {\n    variant: 'ordered'\n  }, children);\n};\nconst A = _a => {\n  var {\n      children\n    } = _a,\n    props = __rest(_a, [\"children\"]);\n  return React.createElement(Link, Object.assign({}, props), children);\n};\nconst componentMap = {\n  p: P,\n  strong: Strong,\n  em: Em,\n  h3: H3,\n  li: Li,\n  ol: Ol,\n  ul: Ul,\n  a: A\n};\nconst picassoMapper = child => {\n  var _a, _b;\n  if (!isValidElement(child)) {\n    return child;\n  }\n  const type = componentMap[child.type] || child.type;\n  const mappedChildren = (_b = (_a = child.props.children) === null || _a === void 0 ? void 0 : _a.map(picassoMapper)) !== null && _b !== void 0 ? _b : null;\n  return createElement(type, Object.assign(Object.assign({}, child.props), {\n    key: child.key\n  }), mappedChildren);\n};\nconst useRichText = value => {\n  const mappedTextNodes = useMemo(() => {\n    const {\n      children: astChildren\n    } = value;\n    if (!(astChildren === null || astChildren === void 0 ? void 0 : astChildren.length)) {\n      return null;\n    }\n    const isSingleChild = astChildren.length === 1;\n    const reactElement = toH(createElement, value);\n    if (isSingleChild) {\n      return picassoMapper(reactElement);\n    }\n    // first node of tree is always \"root\",\n    // which is transformed to wrapping div when children.length > 1\n    // when single children, there is no wrapping div and it returns textNode right away\n    const textNodes = reactElement.props.children;\n    return textNodes.map(picassoMapper);\n  }, [value]);\n  return mappedTextNodes;\n};\nexport default useRichText;","map":{"version":3,"names":["toH","React","useMemo","createElement","isValidElement","Typography","Container","List","ListItem","Link","Li","_a","children","props","__rest","Object","assign","P","_ref","size","Strong","_ref2","as","weight","Em","_ref3","H3","_ref4","top","variant","Ul","_ref5","Ol","_ref6","A","componentMap","p","strong","em","h3","li","ol","ul","a","picassoMapper","child","type","mappedChildren","_b","map","key","useRichText","value","mappedTextNodes","astChildren","length","isSingleChild","reactElement","textNodes"],"sources":["../../../../src/RichText/hooks/useRichText/useRichText.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}