{"ast":null,"code":"import { useState, useEffect, useCallback, useMemo } from 'react';\nconst useHighlightedIndex = _ref => {\n  let {\n    flatOptions,\n    isOpen,\n    selection\n  } = _ref;\n  const [highlightedIndex, setHighlightedIndex] = useState(0);\n  const selectedIndicies = useMemo(() => flatOptions.reduce((acc, option, index) => selection.isOptionSelected(option) ? [...acc, index] : acc, []), [selection, flatOptions]);\n  const nonDisabledIndicies = useMemo(() => flatOptions.reduce((acc, option, index) => !option.disabled ? [...acc, index] : acc, []), [flatOptions]);\n  const handleChange = useCallback(nextIndex => !flatOptions[nextIndex].disabled && setHighlightedIndex(nextIndex), [flatOptions]);\n  // Reset index on close/options change\n  useEffect(() => {\n    const hasSelectedAndNonDisabledOption = selectedIndicies.length === 1 && !flatOptions[selectedIndicies[0]].disabled;\n    const nextHighlightedIndex = hasSelectedAndNonDisabledOption ? selectedIndicies[0] : nonDisabledIndicies[0];\n    setHighlightedIndex(nextHighlightedIndex);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, flatOptions]);\n  return [highlightedIndex, handleChange];\n};\nexport default useHighlightedIndex;","map":{"version":3,"names":["useState","useEffect","useCallback","useMemo","useHighlightedIndex","_ref","flatOptions","isOpen","selection","highlightedIndex","setHighlightedIndex","selectedIndicies","reduce","acc","option","index","isOptionSelected","nonDisabledIndicies","disabled","handleChange","nextIndex","hasSelectedAndNonDisabledOption","length","nextHighlightedIndex"],"sources":["../../../../src/SelectBase/hooks/use-highlighted-index/use-highlighted-index.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AAUjE,MAAMC,mBAAmB,GAAGC,IAAA,IAA8C;EAAA,IAA7C;IAAEC,WAAW;IAAEC,MAAM;IAAEC;EAAS,CAAS,GAAAH,IAAA;EACpE,MAAM,CAACI,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EAE3D,MAAMW,gBAAgB,GAAGR,OAAO,CAC9B,MACEG,WAAW,CAACM,MAAM,CAChB,CAACC,GAAG,EAAEC,MAAM,EAAEC,KAAK,KACjBP,SAAS,CAACQ,gBAAgB,CAACF,MAAM,CAAC,GAAG,CAAC,GAAGD,GAAG,EAAEE,KAAK,CAAC,GAAGF,GAAG,EAC5D,EAAc,CACf,EACH,CAACL,SAAS,EAAEF,WAAW,CAAC,CACzB;EAED,MAAMW,mBAAmB,GAAGd,OAAO,CACjC,MACEG,WAAW,CAACM,MAAM,CAChB,CAACC,GAAG,EAAEC,MAAM,EAAEC,KAAK,KAAM,CAACD,MAAM,CAACI,QAAQ,GAAG,CAAC,GAAGL,GAAG,EAAEE,KAAK,CAAC,GAAGF,GAAI,EAClE,EAAc,CACf,EACH,CAACP,WAAW,CAAC,CACd;EAED,MAAMa,YAAY,GAAGjB,WAAW,CAC7BkB,SAAiB,IAChB,CAACd,WAAW,CAACc,SAAS,CAAC,CAACF,QAAQ,IAAIR,mBAAmB,CAACU,SAAS,CAAC,EACpE,CAACd,WAAW,CAAC,CACd;EAED;EACAL,SAAS,CAAC,MAAK;IACb,MAAMoB,+BAA+B,GACnCV,gBAAgB,CAACW,MAAM,KAAK,CAAC,IAC7B,CAAChB,WAAW,CAACK,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAACO,QAAQ;IAE5C,MAAMK,oBAAoB,GAAGF,+BAA+B,GACxDV,gBAAgB,CAAC,CAAC,CAAC,GACnBM,mBAAmB,CAAC,CAAC,CAAC;IAE1BP,mBAAmB,CAACa,oBAAoB,CAAC;IAEzC;EACF,CAAC,EAAE,CAAChB,MAAM,EAAED,WAAW,CAAC,CAAC;EAEzB,OAAO,CAACG,gBAAgB,EAAEU,YAAY,CAAU;AAClD,CAAC;AAED,eAAef,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}