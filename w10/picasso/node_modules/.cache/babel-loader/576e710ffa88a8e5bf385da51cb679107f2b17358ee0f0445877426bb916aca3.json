{"ast":null,"code":"import { useRef, useCallback, useState, useEffect } from 'react';\nimport Glider from 'glider-js';\nimport isOnLastPage from '../../utils/isOnLastPage';\nimport useAutoplay from '../useAutoplay';\nconst useCarousel = _ref => {\n  let {\n    autoplay,\n    autoplayDelay,\n    onSlide,\n    rewind,\n    slidesToScroll,\n    slidesToShow,\n    slidesCount,\n    hasDots\n  } = _ref;\n  const dotsRef = useRef(null);\n  const elementRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const [isLastPage, setLastPage] = useState(false);\n  const [isFirstPage, setFirstPage] = useState(!rewind);\n  const gliderRef = useRef();\n  const handleOnAnimated = useCallback(() => {\n    var _a;\n    const currentSlide = ((_a = gliderRef.current) === null || _a === void 0 ? void 0 : _a.slide) || 0;\n    setLastPage(isOnLastPage({\n      currentSlide,\n      slidesCount,\n      slidesToShow\n    }));\n    setFirstPage(currentSlide === 0);\n    onSlide === null || onSlide === void 0 ? void 0 : onSlide(currentSlide);\n  }, [slidesCount, slidesToShow, onSlide]);\n  const initializeGlider = useCallback(() => {\n    const element = elementRef.current;\n    if (element && !gliderRef.current && (!hasDots || hasDots && dotsRef.current)) {\n      gliderRef.current = new Glider(element, {\n        slidesToShow,\n        rewind,\n        slidesToScroll,\n        dots: dotsRef.current\n      });\n      element.addEventListener('glider-animated', handleOnAnimated);\n    }\n  }, [slidesToShow, rewind, slidesToScroll, handleOnAnimated, hasDots]);\n  useEffect(() => {\n    initializeGlider();\n  }, [initializeGlider]);\n  const slideNext = useCallback(() => {\n    const glider = gliderRef.current;\n    const currentSlide = (glider === null || glider === void 0 ? void 0 : glider.slide) || 0;\n    const item = isLastPage ? 0 : currentSlide + slidesToScroll;\n    glider === null || glider === void 0 ? void 0 : glider.scrollItem(item, false);\n  }, [isLastPage, slidesToScroll]);\n  const slidePrev = useCallback(() => {\n    const glider = gliderRef.current;\n    const currentSlide = (glider === null || glider === void 0 ? void 0 : glider.slide) || 0;\n    const lastPage = slidesCount - slidesToShow;\n    const prevSlide = currentSlide - slidesToScroll;\n    const item = currentSlide === 0 ? lastPage : prevSlide;\n    glider === null || glider === void 0 ? void 0 : glider.scrollItem(item, false);\n  }, [slidesCount, slidesToShow, slidesToScroll]);\n  useAutoplay({\n    slideNext,\n    rewind,\n    isLastPage,\n    autoplay,\n    autoplayDelay,\n    wrapperRef\n  });\n  const getPrevProps = useCallback(() => ({\n    disabled: rewind ? false : isFirstPage,\n    onClick: slidePrev\n  }), [rewind, slidePrev, isFirstPage]);\n  const getNextProps = useCallback(() => ({\n    disabled: rewind ? false : isLastPage,\n    onClick: slideNext\n  }), [isLastPage, rewind, slideNext]);\n  const getDotsProps = useCallback(() => ({\n    ref: dotsRef\n  }), []);\n  const getCarouselProps = useCallback(() => ({\n    ref: elementRef\n  }), []);\n  const getContainerProps = useCallback(() => ({\n    ref: wrapperRef\n  }), []);\n  return {\n    isLastPage,\n    getPrevProps,\n    getNextProps,\n    getDotsProps,\n    getContainerProps,\n    getCarouselProps\n  };\n};\nexport default useCarousel;","map":{"version":3,"names":["useRef","useCallback","useState","useEffect","Glider","isOnLastPage","useAutoplay","useCarousel","_ref","autoplay","autoplayDelay","onSlide","rewind","slidesToScroll","slidesToShow","slidesCount","hasDots","dotsRef","elementRef","wrapperRef","isLastPage","setLastPage","isFirstPage","setFirstPage","gliderRef","handleOnAnimated","currentSlide","_a","current","slide","initializeGlider","element","dots","addEventListener","slideNext","glider","item","scrollItem","slidePrev","lastPage","prevSlide","getPrevProps","disabled","onClick","getNextProps","getDotsProps","ref","getCarouselProps","getContainerProps"],"sources":["../../../../src/Carousel/hooks/useCarousel/useCarousel.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}