{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport debounce from 'debounce';\nimport { makeStyles } from '@material-ui/core/styles';\nimport cx from 'classnames';\nimport styles from './styles';\nimport Typography from '../Typography';\nimport Container from '../Container';\nvar SavingState;\n(function (SavingState) {\n  SavingState[SavingState[\"Initial\"] = 0] = \"Initial\";\n  SavingState[SavingState[\"Saving\"] = 1] = \"Saving\";\n  SavingState[SavingState[\"Saved\"] = 2] = \"Saved\";\n})(SavingState || (SavingState = {}));\nconst useStyles = makeStyles(styles, {\n  name: 'PicassoAutoSaveIndicator'\n});\nconst FormAutoSaveIndicator = _ref => {\n  let {\n    saving,\n    label = 'Saved',\n    hideTimeout = 1000\n  } = _ref;\n  const [savingState, setSavingState] = useState(SavingState.Initial);\n  const classes = useStyles();\n  useEffect(() => {\n    if (saving) {\n      setSavingState(SavingState.Saving);\n    } else if (savingState === SavingState.Saving) {\n      setSavingState(SavingState.Saved);\n    }\n  }, [saving, savingState]);\n  useEffect(() => {\n    const hideIndicator = debounce(() => {\n      setSavingState(SavingState.Initial);\n    }, hideTimeout);\n    if (savingState === SavingState.Saved) {\n      hideIndicator();\n    }\n    return () => {\n      hideIndicator.clear();\n    };\n  }, [savingState, hideTimeout]);\n  return React.createElement(Container, {\n    className: cx(classes.root, {\n      [classes.visible]: savingState === SavingState.Saved\n    }),\n    align: 'right'\n  }, React.createElement(Typography, {\n    size: 'xxsmall'\n  }, label));\n};\nexport default FormAutoSaveIndicator;","map":{"version":3,"names":["React","useEffect","useState","debounce","makeStyles","cx","styles","Typography","Container","SavingState","useStyles","name","FormAutoSaveIndicator","_ref","saving","label","hideTimeout","savingState","setSavingState","Initial","classes","Saving","Saved","hideIndicator","clear","createElement","className","root","visible","align","size"],"sources":["../../src/FormAutoSaveIndicator/FormAutoSaveIndicator.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,QAAQ,MAAM,UAAU;AAC/B,SAASC,UAAU,QAAe,0BAA0B;AAC5D,OAAOC,EAAE,MAAM,YAAY;AAE3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAOC,SAAS,MAAM,cAAc;AAWpC,IAAKC,WAIJ;AAJD,WAAKA,WAAW;EACdA,WAAA,CAAAA,WAAA,4BAAO;EACPA,WAAA,CAAAA,WAAA,0BAAM;EACNA,WAAA,CAAAA,WAAA,wBAAK;AACP,CAAC,EAJIA,WAAW,KAAXA,WAAW;AAMhB,MAAMC,SAAS,GAAGN,UAAU,CAAQE,MAAM,EAAE;EAC1CK,IAAI,EAAE;CACP,CAAC;AAEF,MAAMC,qBAAqB,GAAGC,IAAA,IAIlB;EAAA,IAJmB;IAC7BC,MAAM;IACNC,KAAK,GAAG,OAAO;IACfC,WAAW,GAAG;EAAI,CACZ,GAAAH,IAAA;EACN,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAC5CO,WAAW,CAACU,OAAO,CACpB;EACD,MAAMC,OAAO,GAAGV,SAAS,EAAE;EAE3BT,SAAS,CAAC,MAAK;IACb,IAAIa,MAAM,EAAE;MACVI,cAAc,CAACT,WAAW,CAACY,MAAM,CAAC;KACnC,MAAM,IAAIJ,WAAW,KAAKR,WAAW,CAACY,MAAM,EAAE;MAC7CH,cAAc,CAACT,WAAW,CAACa,KAAK,CAAC;;EAErC,CAAC,EAAE,CAACR,MAAM,EAAEG,WAAW,CAAC,CAAC;EAEzBhB,SAAS,CAAC,MAAK;IACb,MAAMsB,aAAa,GAAGpB,QAAQ,CAAC,MAAK;MAClCe,cAAc,CAACT,WAAW,CAACU,OAAO,CAAC;IACrC,CAAC,EAAEH,WAAW,CAAC;IAEf,IAAIC,WAAW,KAAKR,WAAW,CAACa,KAAK,EAAE;MACrCC,aAAa,EAAE;;IAGjB,OAAO,MAAK;MACVA,aAAa,CAACC,KAAK,EAAE;IACvB,CAAC;EACH,CAAC,EAAE,CAACP,WAAW,EAAED,WAAW,CAAC,CAAC;EAE9B,OACEhB,KAAA,CAAAyB,aAAA,CAACjB,SAAS;IACRkB,SAAS,EAAErB,EAAE,CAACe,OAAO,CAACO,IAAI,EAAE;MAC1B,CAACP,OAAO,CAACQ,OAAO,GAAGX,WAAW,KAAKR,WAAW,CAACa;KAChD,CAAC;IACFO,KAAK,EAAC;EAAO,GAEb7B,KAAA,CAAAyB,aAAA,CAAClB,UAAU;IAACuB,IAAI,EAAC;EAAS,GAAEf,KAAK,CAAc,CACrC;AAEhB,CAAC;AAED,eAAeH,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}